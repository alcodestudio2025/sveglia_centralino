2025-10-24 14:22:04,197 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 10:50:12,129 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 10:52:27,069 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 10:54:23,366 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 10:56:15,389 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 10:56:46,767 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:00:51,379 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:00:51,380 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:00:51,381 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:00:51,381 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:00:51,381 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:00:51,382 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:00:51,577 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:00:51,577 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 11:05:09,363 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:05:09,364 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:05:09,364 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:05:09,364 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:05:09,364 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:05:09,364 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:05:09,557 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:05:09,557 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 11:10:42,550 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:10:42,550 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:10:42,550 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:10:42,550 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:10:42,550 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:10:42,550 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:10:42,733 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:10:42,733 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 11:16:47,095 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:16:47,095 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:16:47,095 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:16:47,095 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:16:47,095 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:16:47,095 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:16:47,332 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:16:47,332 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 11:31:57,925 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:31:57,926 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:31:57,926 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:31:57,926 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:31:57,926 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:31:57,926 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:31:58,129 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:31:58,129 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 11:35:28,480 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:35:28,480 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:35:28,480 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:35:28,481 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:35:28,481 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:35:28,481 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:35:28,725 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:35:28,725 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 11:38:07,279 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 11:38:07,280 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 11:38:07,280 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 11:38:07,280 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 11:38:07,280 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 11:38:07,281 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 11:38:07,483 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 11:38:07,483 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:02:22,653 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:02:22,653 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:02:22,653 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:02:22,653 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:02:22,653 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:02:22,653 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:02:22,858 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:02:22,858 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:07:01,664 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:07:01,665 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:07:01,665 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:07:01,668 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:07:01,668 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:07:01,668 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:07:01,747 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:07:01,866 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:07:01,866 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:07:01,866 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:07:01,873 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:07:01,873 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:07:07,379 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 12:07:07,379 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 12:07:07,379 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 12:07:07,623 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 12:07:07,624 - sveglia_centralino.room_manager - WARNING - load_rooms:492 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:07:09,626 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:07:09,626 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:07:09,731 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:07:09,795 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:07:09,795 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:07:09,795 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:07:09,796 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 5ms)
2025-10-28 12:07:09,797 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:07:09,797 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:07:09,797 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:07:09,797 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:07:09,797 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 5, 'type': 'SIP'}
2025-10-28 12:07:09,838 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:07:09,838 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 5, 'type': 'SIP'})]
2025-10-28 12:07:09,840 - sveglia_centralino.room_manager - WARNING - load_rooms:492 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:07:12,842 - sveglia_centralino.room_manager - INFO - do_clean_import:232 - Pulizia database camere...
2025-10-28 12:07:12,845 - sveglia_centralino.room_manager - INFO - do_clean_import:241 - Tutte le camere eliminate
2025-10-28 12:07:12,854 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:07:12,924 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:07:12,998 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:07:13,000 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:07:13,001 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:07:13,001 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:07:13,001 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:07:13,002 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:07:13,002 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:07:13,002 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:07:13,002 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:07:13,002 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:07:13,002 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 5ms)
2025-10-28 12:07:13,003 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:07:13,003 - sveglia_centralino.room_manager - INFO - do_clean_import:256 - Trovati 90 interni sul PBX
2025-10-28 12:07:13,058 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 20/90...
2025-10-28 12:07:13,109 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 40/90...
2025-10-28 12:07:13,164 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 60/90...
2025-10-28 12:07:13,217 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 80/90...
2025-10-28 12:07:13,242 - sveglia_centralino.room_manager - INFO - do_clean_import:280 - Import completato: 90 interni importati
2025-10-28 12:07:13,243 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:07:13,243 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:07:13,315 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:07:13,388 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 5ms)
2025-10-28 12:07:13,389 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:07:13,389 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:07:13,389 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:07:13,389 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:07:13,389 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 5, 'type': 'SIP'}
2025-10-28 12:07:14,131 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:07:14,131 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 5, 'type': 'SIP'})]
2025-10-28 12:07:14,135 - sveglia_centralino.room_manager - WARNING - load_rooms:492 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:07:37,631 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:07:37,631 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:07:37,737 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:07:37,808 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:07:37,808 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:07:37,808 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:07:37,808 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:07:37,809 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:07:37,809 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:07:37,810 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:07:37,810 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:07:37,810 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:07:38,478 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:07:38,478 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:07:38,479 - sveglia_centralino.room_manager - WARNING - load_rooms:492 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:09:10,500 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:09:10,500 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:09:10,501 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:09:10,501 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:09:10,501 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:09:10,501 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:09:10,620 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:09:10,730 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:09:10,730 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:09:10,730 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:09:10,741 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:09:10,741 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:09:14,314 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 12:09:14,314 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 12:09:14,314 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 12:09:14,546 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 12:09:14,546 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (411, '103', 'available', '2025-10-28 11:07:13', '103', 'Interno 103 (SIP)', '#FFFFFF', 'Importato da PBX')
2025-10-28 12:09:14,546 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=available, desc=2025-10-28 11:07:13
2025-10-28 12:09:14,546 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:09:16,552 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:09:16,552 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:09:16,616 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:09:16,702 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:09:16,702 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:09:16,702 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:09:16,702 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:09:16,702 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:09:17,108 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:09:17,108 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:09:17,108 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (411, '103', 'available', '2025-10-28 11:07:13', '103', 'Interno 103 (SIP)', '#FFFFFF', 'Importato da PBX')
2025-10-28 12:09:17,108 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=available, desc=2025-10-28 11:07:13
2025-10-28 12:09:17,109 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:09:19,355 - sveglia_centralino.room_manager - INFO - do_clean_import:232 - Pulizia database camere...
2025-10-28 12:09:19,368 - sveglia_centralino.room_manager - INFO - do_clean_import:241 - Tutte le camere eliminate
2025-10-28 12:09:19,369 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:09:19,426 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:09:19,500 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:09:19,500 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:09:19,500 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:09:19,501 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:09:19,502 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:09:19,502 - sveglia_centralino.room_manager - INFO - do_clean_import:256 - Trovati 90 interni sul PBX
2025-10-28 12:09:19,556 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 20/90...
2025-10-28 12:09:19,617 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 40/90...
2025-10-28 12:09:19,674 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 60/90...
2025-10-28 12:09:19,736 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 80/90...
2025-10-28 12:09:19,770 - sveglia_centralino.room_manager - INFO - do_clean_import:280 - Import completato: 90 interni importati
2025-10-28 12:09:19,770 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:09:19,770 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:09:19,846 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:09:19,919 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:09:19,920 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:09:19,920 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:09:19,920 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:09:19,920 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:09:19,920 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:09:19,920 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:09:19,920 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:09:19,920 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:09:19,920 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:09:20,719 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:09:20,719 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:09:20,722 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (501, '103', 'available', '2025-10-28 11:09:19', '103', 'Interno 103 (SIP)', '#FFFFFF', 'Importato da PBX')
2025-10-28 12:09:20,723 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=available, desc=2025-10-28 11:09:19
2025-10-28 12:09:20,723 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:09:44,562 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:09:44,562 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:09:44,669 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:09:44,742 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:09:44,744 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:09:44,745 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:09:44,745 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:09:44,746 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:09:44,746 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:09:44,746 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:09:44,747 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:09:44,747 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:09:44,747 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:09:44,748 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:09:44,748 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:09:44,748 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:09:44,748 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:09:44,748 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:09:44,748 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:09:45,474 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:09:45,475 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:09:45,475 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (501, '103', 'available', '2025-10-28 11:09:19', '103', 'Interno 103 (SIP)', '#FFFFFF', 'Importato da PBX')
2025-10-28 12:09:45,475 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=available, desc=2025-10-28 11:09:19
2025-10-28 12:09:45,475 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno available NON trovato in cache!
2025-10-28 12:11:52,987 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:11:52,987 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:11:52,987 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:11:52,987 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:11:52,987 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:11:52,987 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:11:53,052 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:11:53,169 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:11:53,169 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:11:53,169 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:11:53,177 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:11:53,177 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:11:57,289 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 12:11:57,289 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 12:11:57,289 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 12:11:57,493 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 12:11:57,493 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (1, '1101', '', '', 'available', '#FFFFFF', '', '2025-10-28 11:11:52')
2025-10-28 12:11:57,493 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=1101, ext=, desc=
2025-10-28 12:11:59,503 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:11:59,503 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:11:59,569 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 32ms)
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:11:59,642 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:11:59,643 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:11:59,643 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:11:59,643 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 32, 'type': 'SIP'}
2025-10-28 12:11:59,643 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:11:59,664 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:11:59,665 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 32, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:11:59,665 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (1, '1101', '', '', 'available', '#FFFFFF', '', '2025-10-28 11:11:52')
2025-10-28 12:11:59,665 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=1101, ext=, desc=
2025-10-28 12:12:02,009 - sveglia_centralino.room_manager - INFO - do_clean_import:232 - Pulizia database camere...
2025-10-28 12:12:02,024 - sveglia_centralino.room_manager - INFO - do_clean_import:241 - Tutte le camere eliminate
2025-10-28 12:12:02,024 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:12:02,095 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:12:02,172 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:12:02,172 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 32ms)
2025-10-28 12:12:02,173 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:12:02,174 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:12:02,174 - sveglia_centralino.room_manager - INFO - do_clean_import:256 - Trovati 90 interni sul PBX
2025-10-28 12:12:02,227 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 20/90...
2025-10-28 12:12:02,295 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 40/90...
2025-10-28 12:12:02,355 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 60/90...
2025-10-28 12:12:02,413 - sveglia_centralino.room_manager - INFO - do_clean_import:278 - Importati 80/90...
2025-10-28 12:12:02,443 - sveglia_centralino.room_manager - INFO - do_clean_import:280 - Import completato: 90 interni importati
2025-10-28 12:12:02,443 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:12:02,443 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:12:02,518 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 32ms)
2025-10-28 12:12:02,594 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:12:02,595 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:12:02,595 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:12:02,595 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:12:02,595 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 32, 'type': 'SIP'}
2025-10-28 12:12:02,595 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:12:02,913 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:12:02,913 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 32, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:12:02,915 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:02,915 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:02,915 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:12:41,570 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 12:12:41,571 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 12:12:41,571 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 12:12:41,577 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 12:12:41,578 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:41,578 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:41,578 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno 103 NON trovato in cache!
2025-10-28 12:12:43,591 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:12:43,591 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:12:43,702 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 178ms)
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:12:43,777 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:12:43,777 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:12:43,777 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:12:43,777 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 178, 'type': 'SIP'}
2025-10-28 12:12:43,777 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:12:44,184 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:12:44,184 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 178, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:12:44,185 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:44,185 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:44,185 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:12:53,833 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:12:53,833 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 178, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:12:53,834 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:53,834 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:53,834 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:12:55,833 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:12:55,833 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 178, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:12:55,835 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:55,835 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:55,835 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:12:57,596 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:12:57,596 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 178, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:12:57,597 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:57,597 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:57,597 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:12:59,212 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:12:59,212 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 178, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:12:59,213 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:12:59,213 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:12:59,213 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:13:11,587 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:13:11,588 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:13:11,645 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:13:11,712 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:13:11,712 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 178ms)
2025-10-28 12:13:11,713 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:13:11,714 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:13:11,714 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:13:11,714 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:13:11,714 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 178, 'type': 'SIP'}
2025-10-28 12:13:11,714 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:13:12,092 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:13:12,092 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 178, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:13:12,092 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:13:12,093 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:13:12,093 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:13:41,596 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:13:41,597 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:13:41,713 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:13:41,817 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:13:41,818 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:13:41,819 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:13:41,819 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:13:41,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:13:41,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:13:41,821 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:13:41,821 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:13:41,821 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:13:41,822 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 30ms)
2025-10-28 12:13:41,822 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:13:41,823 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:13:41,823 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:13:41,824 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:13:41,824 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 30, 'type': 'SIP'}
2025-10-28 12:13:41,824 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:13:44,494 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:13:44,495 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 30, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:13:44,498 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:13:44,498 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:13:44,498 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:14:11,613 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:14:11,614 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:14:11,741 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:14:11,819 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:14:11,819 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:14:11,819 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 30ms)
2025-10-28 12:14:11,820 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:14:11,821 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:14:11,821 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:14:11,821 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:14:11,821 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 30, 'type': 'SIP'}
2025-10-28 12:14:11,821 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:14:13,991 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:14:13,991 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 30, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:14:13,992 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:14:13,992 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:14:13,992 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:14:41,628 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:14:41,629 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:14:41,754 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:14:41,835 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 31ms)
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 9ms)
2025-10-28 12:14:41,836 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:14:41,836 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:14:41,836 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:14:41,836 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 31, 'type': 'SIP'}
2025-10-28 12:14:41,836 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 9, 'type': 'SIP'}
2025-10-28 12:14:43,433 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:14:43,433 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 31, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 9, 'type': 'SIP'})]
2025-10-28 12:14:43,435 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:14:43,435 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:14:43,436 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:15:11,634 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:15:11,635 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:15:11,703 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:15:11,787 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:15:11,787 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:15:11,788 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:15:11,788 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:15:11,788 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:15:11,788 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:15:11,788 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:15:11,789 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:15:11,789 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:15:11,789 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 31ms)
2025-10-28 12:15:11,789 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 9ms)
2025-10-28 12:15:11,789 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:15:11,789 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:15:11,789 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:15:11,789 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 31, 'type': 'SIP'}
2025-10-28 12:15:11,790 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 9, 'type': 'SIP'}
2025-10-28 12:15:13,552 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:15:13,552 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 31, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 9, 'type': 'SIP'})]
2025-10-28 12:15:13,553 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:15:13,553 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:15:13,553 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:15:41,646 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:15:41,647 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:15:41,754 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:15:41,824 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:15:41,824 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:15:41,824 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:15:41,824 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:15:41,824 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 55ms)
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 6ms)
2025-10-28 12:15:41,825 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:15:41,825 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:15:41,825 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:15:41,825 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 55, 'type': 'SIP'}
2025-10-28 12:15:41,825 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 6, 'type': 'SIP'}
2025-10-28 12:15:43,772 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:15:43,772 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 55, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 6, 'type': 'SIP'})]
2025-10-28 12:15:43,772 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:15:43,772 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:15:43,773 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:16:11,651 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:16:11,652 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:16:11,729 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:16:11,809 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:16:11,810 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:16:11,810 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:16:11,810 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:16:11,810 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:16:11,810 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:16:11,811 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:16:11,811 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:16:11,811 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:16:11,811 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 55ms)
2025-10-28 12:16:11,811 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 6ms)
2025-10-28 12:16:11,811 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:16:11,811 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:16:11,811 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:16:11,811 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 55, 'type': 'SIP'}
2025-10-28 12:16:11,812 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 6, 'type': 'SIP'}
2025-10-28 12:16:13,524 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:16:13,524 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 55, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 6, 'type': 'SIP'})]
2025-10-28 12:16:13,525 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:16:13,525 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:16:13,525 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:16:41,667 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:16:41,667 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:16:41,801 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:16:41,874 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:16:41,875 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:16:41,876 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:16:41,876 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:16:41,876 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:16:41,876 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:16:41,877 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:16:41,877 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:16:41,877 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:16:41,877 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:16:41,878 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:16:41,878 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:16:41,879 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:16:41,879 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:16:41,879 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:16:41,880 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:16:43,625 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:16:43,625 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:16:43,626 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:16:43,626 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:16:43,626 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:17:11,684 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:17:11,684 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:17:11,746 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:17:11,813 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:17:11,814 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:17:11,815 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:17:11,815 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:17:11,815 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:17:11,815 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:17:11,816 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:17:11,816 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:17:11,816 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:17:11,816 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:17:11,816 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:17:11,816 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:17:11,816 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:17:11,816 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:17:11,816 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:17:11,816 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:17:13,593 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:17:13,593 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:17:13,594 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:17:13,594 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:17:13,594 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:17:41,715 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:17:41,716 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:17:41,843 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:17:41,940 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:17:41,942 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:17:41,942 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:17:41,943 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:17:41,943 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:17:41,944 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:17:41,945 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:17:41,945 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:17:41,946 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:17:41,946 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 12:17:41,947 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:17:41,947 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:17:41,948 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:17:41,949 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:17:41,949 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 12:17:41,949 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:17:43,728 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:17:43,728 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:17:43,729 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:17:43,729 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:17:43,729 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:17:58,175 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:17:58,175 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:17:58,176 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:17:58,176 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:17:58,176 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:03,958 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:03,958 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:18:03,959 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:03,959 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:18:03,959 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:14,682 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:18:14,682 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:18:14,683 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:18:14,683 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:18:14,683 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:18:14,683 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:18:14,744 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:18:14,864 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:18:14,864 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:18:14,865 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:18:14,872 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:18:14,873 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:18:17,715 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 12:18:17,715 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 12:18:17,715 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 12:18:17,964 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 12:18:17,965 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:17,965 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:18:17,965 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno 103 NON trovato in cache!
2025-10-28 12:18:19,974 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:18:19,975 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:18:20,035 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:18:20,099 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 27ms)
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 12:18:20,101 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:18:20,101 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:18:20,101 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:18:20,101 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 27, 'type': 'SIP'}
2025-10-28 12:18:20,101 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 12:18:20,450 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:20,450 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 27, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:18:20,451 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:20,451 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:18:20,451 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:22,444 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:22,444 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 27, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:18:22,445 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:22,445 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:18:22,445 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:29,121 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:29,121 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 27, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:18:29,123 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:29,123 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:18:29,123 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:38,647 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:38,647 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 27, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:18:38,648 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103 (SIP)', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:38,648 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103 (SIP)
2025-10-28 12:18:38,649 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:47,921 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:47,921 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 27, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 12:18:47,923 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:47,923 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 12:18:47,923 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:18:47,973 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 12:18:47,973 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:227 - Lettura interni dal centralino...
2025-10-28 12:18:48,039 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:255 - Parsing SIP output (112 righe)...
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:256 - Prime 5 righe output SIP:
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:258 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 12:18:48,112 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 111 -> online (latency: 27ms)
2025-10-28 12:18:48,113 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:306 -   Parsed: 114 -> online (latency: 3ms)
2025-10-28 12:18:48,113 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:313 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 12:18:48,113 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 12:18:48,113 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 12:18:48,113 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 27, 'type': 'SIP'}
2025-10-28 12:18:48,113 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 3, 'type': 'SIP'}
2025-10-28 12:18:48,379 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 12:18:48,379 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 27, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 3, 'type': 'SIP'})]
2025-10-28 12:18:48,380 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:18:48,380 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 12:18:48,380 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 12:20:08,179 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:20:08,179 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:20:08,179 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:20:08,179 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:20:08,180 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:20:08,180 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:20:08,242 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:20:08,377 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:20:08,377 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:20:08,377 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:20:08,383 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:20:08,383 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:26:00,458 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:26:00,459 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:26:00,459 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:26:00,459 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:26:00,459 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:26:00,459 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:26:00,525 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:26:00,642 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:26:00,644 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:26:00,645 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:26:00,647 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:26:00,647 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:26:43,688 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:26:43,688 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:26:43,688 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:26:43,688 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:26:43,688 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:26:43,688 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:26:43,749 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:26:43,860 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:26:43,860 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:26:43,860 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:26:43,865 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:26:43,865 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:28:03,764 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:28:03,765 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:28:03,765 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:28:03,765 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:28:03,765 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:28:03,766 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:28:03,840 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:28:03,959 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:28:03,959 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:28:03,959 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:28:03,962 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:28:03,962 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:28:53,774 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:28:53,775 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:28:53,775 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:28:53,776 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:28:53,776 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:28:53,776 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:28:53,844 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:28:53,964 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:28:53,964 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:28:53,964 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:28:53,969 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:28:53,969 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:30:07,559 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:30:07,559 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:30:07,560 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:30:07,560 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:30:07,560 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:30:07,560 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:30:07,621 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:30:07,741 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:30:07,741 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:30:07,741 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:30:07,744 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:30:07,744 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:30:17,996 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 12:30:17,996 - sveglia_centralino.audio_player - INFO - play:44 - Riproduzione audio: audio_messages\wakeup_didimos_asterisk.wav
2025-10-28 12:30:18,002 - sveglia_centralino.audio_player - INFO - play:55 - Riproduzione avviata: wakeup_didimos_asterisk.wav
2025-10-28 12:30:48,744 - sveglia_centralino.audio_player - INFO - play:44 - Riproduzione audio: audio_messages\wakeup_didimos_asterisk.wav
2025-10-28 12:30:48,744 - sveglia_centralino.audio_player - INFO - play:55 - Riproduzione avviata: wakeup_didimos_asterisk.wav
2025-10-28 12:33:35,860 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:33:35,861 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:33:35,861 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:33:35,861 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:33:35,861 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:33:35,861 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:33:35,983 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:33:36,092 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:33:36,092 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:33:36,092 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:33:36,095 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:33:36,095 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:33:48,514 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:33:51,329 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 12:33:51,329 - sveglia_centralino.audio_player - INFO - play:44 - Riproduzione audio: audio_messages\wakeup_didimos_asterisk.wav
2025-10-28 12:33:51,330 - sveglia_centralino.audio_player - INFO - play:55 - Riproduzione avviata: wakeup_didimos_asterisk.wav
2025-10-28 12:33:53,081 - sveglia_centralino.audio_manager - INFO - play_selected_audio:348 - Riproduzione audio: Wakeup_ita
2025-10-28 12:39:17,834 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:39:55,498 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:40:04,730 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:40:35,921 - sveglia_centralino.audio_player - INFO - cleanup:126 - Audio player chiuso
2025-10-28 12:41:24,196 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:41:24,196 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:41:24,197 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:41:24,197 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:41:24,197 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:41:24,197 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:41:24,265 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:41:24,383 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:41:24,383 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:41:24,384 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:41:24,390 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:41:24,390 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:41:37,579 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:42:17,888 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 12:42:17,919 - sveglia_centralino.audio_player - INFO - cleanup:126 - Audio player chiuso
2025-10-28 12:44:15,468 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:44:15,468 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:44:15,468 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:44:15,468 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:44:15,468 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:44:15,468 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:44:15,531 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:44:15,640 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:44:15,641 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:44:15,641 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:44:15,643 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:44:15,643 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:44:24,847 - sveglia_centralino.main - INFO - on_closing:647 - Chiusura applicazione in corso...
2025-10-28 12:44:24,975 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 12:44:25,036 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 12:44:25,471 - sveglia_centralino.main - INFO - on_closing:664 - Applicazione chiusa
2025-10-28 12:45:07,348 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:45:07,349 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:45:07,350 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:45:07,350 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:45:07,350 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:45:07,350 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:45:07,421 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:45:07,541 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:45:07,541 - sveglia_centralino.pbx_connection - INFO - test_connection:186 - Test connessione PBX completato con successo
2025-10-28 12:45:07,541 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:45:07,544 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:45:07,544 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:45:14,746 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:45:53,503 - sveglia_centralino.main - INFO - on_closing:647 - Chiusura applicazione in corso...
2025-10-28 12:45:53,636 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 12:45:53,693 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 12:45:54,193 - sveglia_centralino.main - INFO - on_closing:664 - Applicazione chiusa
2025-10-28 12:49:51,811 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:49:51,811 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:49:51,811 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:49:51,812 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:49:51,812 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:49:51,812 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:49:51,931 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:49:52,049 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:49:52,049 - sveglia_centralino.pbx_connection - INFO - test_connection:250 - Test connessione PBX completato con successo
2025-10-28 12:49:52,050 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:49:52,057 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:49:52,057 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:49:54,849 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:49:57,432 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 12:49:57,432 - sveglia_centralino.audio_player - INFO - play:44 - Riproduzione audio: audio_messages\wakeup-msg_en.wav
2025-10-28 12:49:57,432 - sveglia_centralino.audio_player - INFO - play:55 - Riproduzione avviata: wakeup-msg_en.wav
2025-10-28 12:50:04,546 - sveglia_centralino.audio_manager - INFO - play_selected_audio:357 - Riproduzione audio: Wakeup_EN
2025-10-28 12:50:14,791 - sveglia_centralino.main - INFO - on_closing:647 - Chiusura applicazione in corso...
2025-10-28 12:50:14,837 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 12:50:15,337 - sveglia_centralino.main - INFO - on_closing:664 - Applicazione chiusa
2025-10-28 12:53:30,236 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 12:53:30,236 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 12:53:30,236 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 12:53:30,236 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 12:53:30,236 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 12:53:30,236 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 12:53:30,299 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:53:30,417 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 12:53:30,417 - sveglia_centralino.pbx_connection - INFO - test_connection:250 - Test connessione PBX completato con successo
2025-10-28 12:53:30,417 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 12:53:30,420 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 12:53:30,420 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 12:53:39,067 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:53:54,351 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:55:50,842 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 12:55:50,842 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 12:55:50,842 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 12:55:50,882 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 12:55:50,883 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02')
2025-10-28 12:55:50,883 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 12:55:50,883 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno 103 NON trovato in cache!
2025-10-28 12:56:11,810 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 12:57:30,433 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 12:57:30,506 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal extension 130@internal'
2025-10-28 12:57:33,507 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:157 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 12:57:33,574 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal application Read dtmf_input,audio_messages\wakeup_didimos_asterisk_1,1,n,30'
2025-10-28 12:57:33,574 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:173 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:02:51,375 - sveglia_centralino.main - INFO - on_closing:647 - Chiusura applicazione in corso...
2025-10-28 13:02:51,377 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:02:51,413 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:02:51,715 - sveglia_centralino.main - INFO - on_closing:664 - Applicazione chiusa
2025-10-28 13:04:44,700 - sveglia_centralino.main - INFO - __init__:56 - Gestore sveglie avviato
2025-10-28 13:04:44,701 - sveglia_centralino.main - INFO - test_connection:371 - ============================================================
2025-10-28 13:04:44,701 - sveglia_centralino.main - INFO - test_connection:372 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:04:44,701 - sveglia_centralino.main - INFO - test_connection:373 - ============================================================
2025-10-28 13:04:44,701 - sveglia_centralino.main - INFO - test_connection:374 - Host: 192.168.10.15:22
2025-10-28 13:04:44,701 - sveglia_centralino.main - INFO - test_connection:375 - Username: root
2025-10-28 13:04:44,778 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:04:44,912 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:04:44,912 - sveglia_centralino.pbx_connection - INFO - test_connection:253 - Test connessione PBX completato con successo
2025-10-28 13:04:44,912 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:04:44,919 - sveglia_centralino.main - INFO - test_connection:381 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:04:44,919 - sveglia_centralino.main - INFO - test_connection:382 - ============================================================
2025-10-28 13:05:14,786 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:05:14,858 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal extension 130@internal'
2025-10-28 13:05:17,859 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:160 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:05:17,924 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30'
2025-10-28 13:05:17,925 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:176 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:07:13,480 - sveglia_centralino.main - INFO - on_closing:647 - Chiusura applicazione in corso...
2025-10-28 13:07:13,618 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:07:13,674 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:07:14,011 - sveglia_centralino.main - INFO - on_closing:664 - Applicazione chiusa
2025-10-28 13:15:57,150 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:15:57,151 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:15:57,151 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:15:57,151 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:15:57,151 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:15:57,151 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:15:57,227 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:15:57,343 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:15:57,344 - sveglia_centralino.pbx_connection - INFO - test_connection:253 - Test connessione PBX completato con successo
2025-10-28 13:15:57,344 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:15:57,346 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:15:57,347 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:16:35,761 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:17:27,261 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:17:27,322 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal extension 130@internal'
2025-10-28 13:17:30,323 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:160 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:17:30,395 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30'
2025-10-28 13:17:30,399 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:176 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:21:06,783 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 13:21:06,907 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:21:06,969 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:21:07,470 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 13:21:22,882 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:21:22,882 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:21:22,883 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:21:22,883 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:21:22,883 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:21:22,883 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:21:22,945 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:21:23,065 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:21:23,065 - sveglia_centralino.pbx_connection - INFO - test_connection:253 - Test connessione PBX completato con successo
2025-10-28 13:21:23,066 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:21:23,068 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:21:23,068 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:21:47,106 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:24:23,010 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:24:23,080 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal extension 130@internal'
2025-10-28 13:24:26,083 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:160 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:24:26,152 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30'
2025-10-28 13:24:26,153 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:176 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:24:34,432 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 13:24:34,433 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 13:24:34,534 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 13:24:34,534 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:24:34,534 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:24:34,535 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:24:34,535 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:24:34,535 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:24:34,535 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:24:34,600 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:24:34,715 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:24:34,715 - sveglia_centralino.pbx_connection - INFO - test_connection:253 - Test connessione PBX completato con successo
2025-10-28 13:24:34,715 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:24:34,718 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:24:34,718 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:25:43,457 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 13:25:43,592 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:25:43,649 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:25:44,150 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 13:25:44,729 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 13:25:44,855 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:25:44,876 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:25:45,377 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 13:25:45,377 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 13:25:49,140 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 13:25:49,141 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 13:25:49,241 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 13:25:49,242 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:25:49,242 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:25:49,242 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:25:49,242 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:25:49,242 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:25:49,242 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:25:49,308 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:25:49,426 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:25:49,426 - sveglia_centralino.pbx_connection - INFO - test_connection:253 - Test connessione PBX completato con successo
2025-10-28 13:25:49,426 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:25:49,429 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:25:49,429 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:27:10,809 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:28:19,222 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 13:28:19,222 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 13:28:19,222 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 13:28:19,287 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:28:19,362 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal extension 130@internal'
2025-10-28 13:28:19,362 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:310 - ✓ Chiamata avviata a 130
2025-10-28 13:28:22,363 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:314 - Riproduzione messaggio sveglia con opzioni snooze...
2025-10-28 13:28:22,363 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:160 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:28:22,430 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30'
2025-10-28 13:28:22,430 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:176 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:28:22,430 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:340 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 13:28:22,446 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 13:29:22,457 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 13:34:11,684 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:34:11,754 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'sip show peer 130'
2025-10-28 13:34:11,859 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'core show channels'
2025-10-28 13:34:11,963 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan show internal'
2025-10-28 13:37:14,204 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 13:37:14,205 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 13:37:14,306 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 13:37:14,306 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:37:14,306 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:37:14,306 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:37:14,306 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:37:14,306 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:37:14,306 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:37:14,373 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:37:14,490 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:37:14,490 - sveglia_centralino.pbx_connection - INFO - test_connection:272 - Test connessione PBX completato con successo
2025-10-28 13:37:14,490 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:37:14,498 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:37:14,498 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:40:33,369 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:41:14,326 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 13:41:14,326 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 13:41:14,326 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 13:41:14,326 - sveglia_centralino.pbx_connection - INFO - make_call:115 - Chiamata a 130 come 'Servizio Sveglie <999>'
2025-10-28 13:41:14,390 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:41:14,478 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal application Set "CALLERID(all)=Servizio Sveglie <999>" extension 130@from-internal'
2025-10-28 13:41:14,478 - sveglia_centralino.pbx_connection - INFO - make_call:121 - Chiamata effettuata all'interno 130
2025-10-28 13:41:14,478 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - ✓ Chiamata avviata a 130
2025-10-28 13:41:17,479 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Riproduzione messaggio sveglia con opzioni snooze...
2025-10-28 13:41:17,480 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:179 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:41:17,549 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n exten 130@from-internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30 callerid "Servizio Sveglie <999>"'
2025-10-28 13:41:17,551 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:195 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:41:17,551 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:339 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 13:41:17,577 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 13:41:27,386 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 13:41:27,521 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:41:27,578 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:41:27,855 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 13:41:27,855 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 13:41:27,855 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 13:41:40,449 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 13:41:40,576 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:41:40,633 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:41:41,134 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 13:41:41,134 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 13:41:51,131 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 13:41:51,132 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 13:41:51,233 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 13:41:51,234 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:41:51,235 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:41:51,235 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:41:51,235 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:41:51,235 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:41:51,235 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:41:51,360 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:41:51,493 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:41:51,493 - sveglia_centralino.pbx_connection - INFO - test_connection:272 - Test connessione PBX completato con successo
2025-10-28 13:41:51,494 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:41:51,501 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:41:51,501 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:42:06,602 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:43:21,179 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 13:43:21,179 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 103 - Interno 103 - Lingua: 2025-10-28 11:12:02
2025-10-28 13:43:21,179 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 13:43:21,179 - sveglia_centralino.pbx_connection - INFO - make_call:115 - Chiamata a 103 come 'Servizio Sveglie <999>'
2025-10-28 13:43:21,257 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:43:21,331 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/103@from-internal application Set "CALLERID(all)=Servizio Sveglie <999>" extension 103@from-internal'
2025-10-28 13:43:21,332 - sveglia_centralino.pbx_connection - INFO - make_call:121 - Chiamata effettuata all'interno 103
2025-10-28 13:43:21,332 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - ✓ Chiamata avviata a 103
2025-10-28 13:43:24,333 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Riproduzione messaggio sveglia con opzioni snooze...
2025-10-28 13:43:24,334 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:179 - Riproduzione audio con DTMF per 103: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:43:24,404 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/103@from-internal/n exten 103@from-internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30 callerid "Servizio Sveglie <999>"'
2025-10-28 13:43:24,409 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:195 - Nessun DTMF ricevuto da 103 (timeout)
2025-10-28 13:43:24,410 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:339 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 13:43:24,424 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 103 (interno 103)
2025-10-28 13:43:52,025 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:44:24,433 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 103: Nessuna chiamata attiva per questa camera
2025-10-28 13:44:24,466 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 13:44:24,467 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 13:44:24,467 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 13:44:24,467 - sveglia_centralino.pbx_connection - INFO - make_call:115 - Chiamata a 130 come 'Servizio Sveglie <999>'
2025-10-28 13:44:24,537 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal application Set "CALLERID(all)=Servizio Sveglie <999>" extension 130@from-internal'
2025-10-28 13:44:24,538 - sveglia_centralino.pbx_connection - INFO - make_call:121 - Chiamata effettuata all'interno 130
2025-10-28 13:44:24,538 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - ✓ Chiamata avviata a 130
2025-10-28 13:44:27,540 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Riproduzione messaggio sveglia con opzioni snooze...
2025-10-28 13:44:27,541 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:179 - Riproduzione audio con DTMF per 130: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 13:44:27,616 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n exten 130@from-internal application Read dtmf_input,wakeup_didimos_asterisk_1,1,n,30 callerid "Servizio Sveglie <999>"'
2025-10-28 13:44:27,617 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:195 - Nessun DTMF ricevuto da 130 (timeout)
2025-10-28 13:44:27,617 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:339 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 13:44:27,653 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 13:45:26,048 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 13:45:26,173 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 13:45:26,232 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 13:45:26,688 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 13:45:26,688 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 13:45:26,689 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 13:46:50,810 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 13:46:50,811 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 13:46:50,911 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 13:46:50,911 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:46:50,911 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:46:50,911 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:46:50,911 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:46:50,911 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:46:50,911 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:46:50,982 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:46:51,101 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:46:51,101 - sveglia_centralino.pbx_connection - INFO - test_connection:272 - Test connessione PBX completato con successo
2025-10-28 13:46:51,101 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:46:51,104 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:46:51,104 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 13:47:24,106 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 13:48:20,848 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:360 - Errore esecuzione sveglia con snooze: Logger.info() missing 1 required positional argument: 'msg'
2025-10-28 13:48:20,848 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:154 - Errore nell'esecuzione sveglia: name 'message' is not defined
2025-10-28 13:49:47,002 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 13:49:47,003 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 13:49:47,104 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 13:49:47,104 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 13:49:47,104 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 13:49:47,105 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 13:49:47,105 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 13:49:47,105 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 13:49:47,105 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 13:49:47,177 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 13:49:47,290 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 13:49:47,291 - sveglia_centralino.pbx_connection - INFO - test_connection:272 - Test connessione PBX completato con successo
2025-10-28 13:49:47,291 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 13:49:47,293 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 13:49:47,293 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:12:33,593 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:12:33,728 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:12:33,784 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:12:34,285 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:12:34,285 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:12:36,121 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:12:36,245 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:12:36,314 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:12:36,719 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 14:12:36,719 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:12:36,720 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:12:43,457 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:12:43,458 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:12:43,559 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:12:43,559 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:12:43,559 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:12:43,559 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:12:43,560 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:12:43,560 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:12:43,560 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:12:43,621 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:12:43,739 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:12:43,740 - sveglia_centralino.pbx_connection - INFO - test_connection:272 - Test connessione PBX completato con successo
2025-10-28 14:12:43,740 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:12:43,743 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:12:43,743 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:12:48,721 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:12:48,850 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:12:48,909 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:12:49,409 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:12:49,409 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:12:51,170 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:12:51,170 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:12:51,271 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:12:51,271 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:12:51,273 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:12:51,273 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:12:51,273 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:12:51,273 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:12:51,273 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:12:51,336 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:12:51,466 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:12:51,466 - sveglia_centralino.pbx_connection - INFO - test_connection:272 - Test connessione PBX completato con successo
2025-10-28 14:12:51,466 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:12:51,469 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:12:51,469 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:13:07,090 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:14:21,214 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:14:21,214 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:14:21,214 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:14:21,214 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:14:21,214 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:177 - Chiamata + audio DTMF a 130: wakeup_didimos_asterisk_1
2025-10-28 14:14:21,296 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:14:21,371 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n application Read "dtmf_var,wakeup_didimos_asterisk_1,1,n,30" callerid "Servizio Sveglie <999>"'
2025-10-28 14:14:21,374 - sveglia_centralino.pbx_connection - WARNING - play_audio_with_dtmf:195 - ✗ Nessun DTMF ricevuto da 130 (timeout o no input)
2025-10-28 14:14:21,375 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:14:21,403 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:15:21,413 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:15:59,742 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:15:59,743 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:15:59,844 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:15:59,844 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:15:59,844 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:15:59,844 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:15:59,845 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:15:59,845 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:15:59,845 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:15:59,919 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:16:00,040 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:16:00,040 - sveglia_centralino.pbx_connection - INFO - test_connection:280 - Test connessione PBX completato con successo
2025-10-28 14:16:00,040 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:16:00,042 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:16:00,043 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:16:08,402 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:16:08,527 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:16:08,586 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:16:09,087 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:16:09,087 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:16:12,561 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:16:12,683 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:16:12,742 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:16:12,749 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 14:16:12,749 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:16:12,749 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:16:17,454 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:16:17,454 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:16:17,556 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:16:17,556 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:16:17,556 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:16:17,557 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:16:17,557 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:16:17,557 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:16:17,557 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:16:17,620 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:16:17,729 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:16:17,729 - sveglia_centralino.pbx_connection - INFO - test_connection:280 - Test connessione PBX completato con successo
2025-10-28 14:16:17,730 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:16:17,732 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:16:17,732 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:16:33,514 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:17:17,483 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:17:17,484 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:17:17,484 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:17:17,484 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:17:17,484 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:188 - Chiamata + Playback a 130: wakeup_didimos_asterisk_1
2025-10-28 14:17:17,604 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:17:17,684 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n application Playback "wakeup_didimos_asterisk_1" callerid "Servizio Sveglie <999>"'
2025-10-28 14:17:17,684 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:197 - ✓ Chiamata eseguita, audio in riproduzione
2025-10-28 14:17:17,684 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:17:17,698 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:18:17,714 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:18:22,024 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:18:22,160 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:18:22,215 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:18:22,715 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:18:22,715 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:19:41,203 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:19:41,205 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:19:41,306 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:19:41,306 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:19:41,306 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:19:41,306 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:19:41,306 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:19:41,306 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:19:41,306 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:19:41,375 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:19:41,492 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:19:41,493 - sveglia_centralino.pbx_connection - INFO - test_connection:328 - Test connessione PBX completato con successo
2025-10-28 14:19:41,493 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:19:41,496 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:19:41,497 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:20:30,411 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:20:57,620 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 14:21:11,249 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:21:11,249 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:21:11,249 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:21:11,249 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:21:11,250 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:220 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:21:11,250 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:166 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:21:11,367 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:21:11,441 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:21:11,577 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:187 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:21:11,577 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:236 - Chiamata + Playback a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:21:11,686 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n application Playback "custom/wakeup_didimos_asterisk_1" callerid "Servizio Sveglie <999>"'
2025-10-28 14:21:11,686 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:245 - ✓ Chiamata eseguita, audio in riproduzione
2025-10-28 14:21:11,686 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:21:11,698 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:22:11,708 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:22:29,601 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:22:29,727 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:22:29,753 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:22:30,254 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:22:30,254 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:24:21,620 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:24:21,621 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:24:21,722 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:24:21,722 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:24:21,722 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:24:21,722 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:24:21,722 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:24:21,722 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:24:21,722 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:24:21,799 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:24:21,918 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:24:21,918 - sveglia_centralino.pbx_connection - INFO - test_connection:438 - Test connessione PBX completato con successo
2025-10-28 14:24:21,919 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:24:21,921 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:24:21,922 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:24:51,170 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:152 - Setup context wakeup-service nel dialplan...
2025-10-28 14:24:51,237 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:24:51,418 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 14:24:51,418 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:220 - ✓ Context wakeup-service configurato e caricato
2025-10-28 14:24:56,246 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:25:21,283 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 14:26:30,203 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 14:27:16,786 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Ridarda_10 (ID: 11, Lingua: it)
2025-10-28 14:27:30,715 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 14:27:30,715 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 14:27:30,715 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 14:27:30,752 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 14:27:30,753 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02', 'it')
2025-10-28 14:27:30,753 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 14:27:30,753 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno 103 NON trovato in cache!
2025-10-28 14:27:35,228 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 14:28:21,720 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:28:21,721 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:28:21,721 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:28:21,721 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:28:21,721 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:303 - Upload audio su Asterisk: None
2025-10-28 14:28:21,721 - sveglia_centralino.pbx_connection - ERROR - upload_audio_to_asterisk:276 - Errore upload audio: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 14:28:21,721 - sveglia_centralino.pbx_connection - ERROR - play_audio_with_dtmf:307 - Errore upload: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 14:28:21,721 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:312 - Errore nella riproduzione audio
2025-10-28 14:28:21,721 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:150 - Errore nell'esecuzione sveglia camera 130
2025-10-28 14:28:38,921 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:29:21,752 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:29:21,752 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:29:21,753 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:29:21,753 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:29:21,753 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:303 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:29:21,753 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:248 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:29:21,823 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:29:21,901 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:29:22,031 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:269 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:29:22,031 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:324 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:29:22,098 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n extension s@wakeup-service(custom/wakeup_didimos_asterisk_1) callerid "Servizio Sveglie <999>"'
2025-10-28 14:29:22,098 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:333 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:29:33,920 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:29:33,921 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:29:33,957 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:29:34,458 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:29:34,458 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:30:09,204 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:30:09,204 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:30:09,205 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:30:09,205 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:30:09,205 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:30:09,205 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:30:09,205 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:303 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:30:09,205 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:248 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:30:09,265 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:30:09,305 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:30:09,305 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:30:09,306 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:30:09,306 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:30:09,307 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:30:09,307 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:30:09,308 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:30:09,332 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:30:09,462 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:30:09,582 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:30:09,583 - sveglia_centralino.pbx_connection - INFO - test_connection:438 - Test connessione PBX completato con successo
2025-10-28 14:30:09,583 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:30:09,589 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:30:09,590 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:30:09,759 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:30:09,852 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:269 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:30:09,852 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:324 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:30:09,917 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n extension s@wakeup-service(custom/wakeup_didimos_asterisk_1) callerid "Servizio Sveglie <999>"'
2025-10-28 14:30:09,918 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:333 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:30:30,499 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:30:44,985 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:30:44,985 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:361 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 14:30:44,985 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:30:44,997 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:31:15,021 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:31:15,022 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:31:15,022 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:31:15,023 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:31:15,023 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:303 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:31:15,024 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:248 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:31:15,092 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:31:15,223 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:269 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:31:15,223 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:324 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:31:15,334 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n extension s@wakeup-service(custom/wakeup_didimos_asterisk_1) callerid "Servizio Sveglie <999>"'
2025-10-28 14:31:15,335 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:333 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:31:45,000 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:31:50,401 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:31:50,403 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:361 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 14:31:50,404 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:31:50,454 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:32:50,455 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:32:59,249 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:32:59,250 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:32:59,351 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:32:59,351 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:32:59,352 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:32:59,352 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:32:59,352 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:32:59,352 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:32:59,352 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:32:59,421 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:32:59,538 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:32:59,538 - sveglia_centralino.pbx_connection - INFO - test_connection:441 - Test connessione PBX completato con successo
2025-10-28 14:32:59,538 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:32:59,541 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:32:59,541 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:33:03,561 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:33:03,696 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:33:03,764 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:33:04,264 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:33:04,264 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:33:21,679 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:152 - Setup context wakeup-service nel dialplan...
2025-10-28 14:33:21,745 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:33:21,916 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 14:33:21,916 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:222 - ✓ Context wakeup-service configurato e caricato
2025-10-28 14:33:23,358 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:33:34,010 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:34:29,290 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:34:29,290 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:34:29,290 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:34:29,290 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:34:29,290 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:305 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:34:29,290 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:250 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:34:29,351 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:34:29,409 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:34:29,534 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:271 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:34:29,535 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:34:29,642 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n exten s@wakeup-service variable WAKEUP_AUDIO=custom/wakeup_didimos_asterisk_1 callerid "Servizio Sveglie <999>"'
2025-10-28 14:34:29,642 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:336 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:35:04,708 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:35:04,709 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 14:35:04,709 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:35:04,725 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:36:04,727 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:36:21,833 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:36:21,966 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:36:21,995 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:36:22,496 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:36:22,496 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:36:28,386 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:36:28,387 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:36:28,487 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:36:28,487 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:36:28,487 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:36:28,487 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:36:28,487 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:36:28,487 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:36:28,489 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:36:28,567 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:36:28,682 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:36:28,682 - sveglia_centralino.pbx_connection - INFO - test_connection:441 - Test connessione PBX completato con successo
2025-10-28 14:36:28,682 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:36:28,689 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:36:28,689 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:36:47,576 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:152 - Setup context wakeup-service nel dialplan...
2025-10-28 14:36:47,637 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:36:47,798 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 14:36:47,798 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:222 - ✓ Context wakeup-service configurato e caricato
2025-10-28 14:36:48,569 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:36:55,155 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:37:03,914 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:37:28,422 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:37:28,423 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:37:28,424 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:37:28,424 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:37:28,425 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:305 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:37:28,425 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:250 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:37:28,491 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:37:28,563 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:37:28,702 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:271 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:37:28,702 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:37:28,815 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n exten s@wakeup-service variable WAKEUP_AUDIO=custom/wakeup_didimos_asterisk_1 callerid "Servizio Sveglie <999>"'
2025-10-28 14:37:28,816 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:336 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:38:03,886 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:38:03,887 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 14:38:03,887 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:38:03,926 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:39:03,940 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:39:28,114 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:39:28,115 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:39:28,215 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:39:28,215 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:39:28,216 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:39:28,216 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:39:28,216 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:39:28,216 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:39:28,216 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:39:28,291 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:39:28,412 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:39:28,412 - sveglia_centralino.pbx_connection - INFO - test_connection:442 - Test connessione PBX completato con successo
2025-10-28 14:39:28,412 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:39:28,418 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:39:28,418 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:39:47,826 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:39:47,953 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:39:48,011 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:39:48,511 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:39:48,512 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:39:50,817 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:39:50,943 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:39:51,002 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:39:51,123 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 14:39:51,123 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:39:51,123 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:39:55,417 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:39:55,417 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:39:55,519 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:39:55,519 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:39:55,519 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:39:55,520 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:39:55,520 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:39:55,520 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:39:55,520 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:39:55,591 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:39:55,711 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:39:55,711 - sveglia_centralino.pbx_connection - INFO - test_connection:442 - Test connessione PBX completato con successo
2025-10-28 14:39:55,712 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:39:55,714 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:39:55,714 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:40:12,491 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:41:25,455 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:41:25,455 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:41:25,455 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:41:25,455 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:41:25,456 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:305 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:41:25,456 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:250 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:41:25,527 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:41:25,597 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:41:25,730 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:271 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:41:25,730 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:328 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:41:25,836 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'channel originate Local/130@from-internal/n extension s@wakeup-service variable WAKEUP_AUDIO=custom/wakeup_didimos_asterisk_1 callerid "Servizio Sveglie <999>"'
2025-10-28 14:41:25,836 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:337 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:41:51,248 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:41:51,383 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:41:51,441 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:41:51,942 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:41:51,942 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:42:57,395 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:42:57,396 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:42:57,397 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:42:57,397 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:42:57,397 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:42:57,397 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:42:57,397 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:305 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:42:57,397 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:250 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:42:57,472 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:42:57,497 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:42:57,497 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:42:57,497 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:42:57,497 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:42:57,497 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:42:57,497 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:42:57,497 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:42:57,539 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:42:57,605 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:42:57,681 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:42:57,681 - sveglia_centralino.pbx_connection - INFO - test_connection:442 - Test connessione PBX completato con successo
2025-10-28 14:42:57,681 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:42:57,684 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:42:57,684 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:42:57,818 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:42:57,910 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:271 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:42:57,910 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:328 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:42:57,980 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension s@wakeup-service setvar WAKEUP_AUDIO=custom/wakeup_didimos_asterisk_1 callerid 'Servizio Sveglie <999>'" 
2025-10-28 14:42:57,981 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:337 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:43:32,555 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:43:33,047 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:43:33,047 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 14:43:33,047 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:43:33,076 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:44:03,098 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:44:03,098 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:44:03,098 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:44:03,098 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:44:03,098 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:305 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:44:03,099 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:250 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:44:03,167 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:44:03,299 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:271 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:44:03,300 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:328 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:44:03,410 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension s@wakeup-service setvar WAKEUP_AUDIO=custom/wakeup_didimos_asterisk_1 callerid 'Servizio Sveglie <999>'" 
2025-10-28 14:44:03,411 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:337 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:44:33,084 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:44:38,474 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:44:38,475 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 14:44:38,475 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:330 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 14:44:38,483 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:45:31,113 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:45:31,225 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:45:31,289 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:45:31,505 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 14:45:31,505 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:45:31,505 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:45:57,273 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:45:57,274 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:45:57,375 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:45:57,375 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:45:57,376 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:45:57,376 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:45:57,376 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:45:57,376 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:45:57,376 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:45:57,455 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:45:57,572 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:45:57,572 - sveglia_centralino.pbx_connection - INFO - test_connection:450 - Test connessione PBX completato con successo
2025-10-28 14:45:57,572 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:45:57,575 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:45:57,575 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:46:08,625 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:46:08,734 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:46:08,761 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:46:09,261 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:46:09,261 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:46:16,152 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:46:16,152 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:46:16,253 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:46:16,253 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:46:16,253 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:46:16,253 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:46:16,253 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:46:16,255 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:46:16,255 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:46:16,325 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:46:16,446 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:46:16,447 - sveglia_centralino.pbx_connection - INFO - test_connection:450 - Test connessione PBX completato con successo
2025-10-28 14:46:16,447 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:46:16,449 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:46:16,450 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:46:26,234 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:152 - Setup context wakeup-service nel dialplan...
2025-10-28 14:46:26,314 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:46:26,487 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 14:46:26,487 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:227 - ✓ Context wakeup-service configurato e caricato
2025-10-28 14:46:27,753 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:46:38,219 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:47:16,180 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:47:16,180 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:47:16,180 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:47:16,181 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:47:16,181 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:310 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:47:16,181 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:255 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:47:16,241 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:47:16,304 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:47:16,440 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:47:16,440 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:336 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:47:16,548 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 14:47:16,549 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:345 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:47:44,697 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:47:44,817 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:47:44,880 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:47:45,382 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:47:45,382 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:48:33,492 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:48:33,493 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:48:33,494 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:48:33,494 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:48:33,494 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:48:33,494 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:48:33,494 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:311 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:48:33,494 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:256 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:48:33,594 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:48:33,594 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:48:33,594 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:48:33,594 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:48:33,594 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:48:33,594 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:48:33,594 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:48:33,609 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:48:33,702 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:48:33,821 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:48:33,821 - sveglia_centralino.pbx_connection - INFO - test_connection:451 - Test connessione PBX completato con successo
2025-10-28 14:48:33,822 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:48:33,831 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:48:33,831 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:48:33,929 - sveglia_centralino.pbx_connection - ERROR - execute_command:95 - Errore nell'esecuzione del comando: 
2025-10-28 14:48:33,991 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:48:34,075 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:277 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:48:34,076 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:337 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:48:34,143 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 14:48:34,143 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:346 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:48:53,224 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:152 - Setup context wakeup-service nel dialplan...
2025-10-28 14:48:53,342 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:48:53,507 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 14:48:53,507 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:228 - ✓ Context wakeup-service configurato e caricato
2025-10-28 14:48:54,344 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:48:55,099 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:48:55,209 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:48:55,233 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:48:55,733 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:48:55,733 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:49:00,319 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:49:00,320 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:49:00,421 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:49:00,421 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:49:00,421 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:49:00,421 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:49:00,422 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:49:00,422 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:49:00,422 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:49:00,488 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:49:00,605 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:49:00,606 - sveglia_centralino.pbx_connection - INFO - test_connection:451 - Test connessione PBX completato con successo
2025-10-28 14:49:00,606 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:49:00,613 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:49:00,613 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 14:49:09,433 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:152 - Setup context wakeup-service nel dialplan...
2025-10-28 14:49:09,511 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:49:09,684 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 14:49:09,685 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:228 - ✓ Context wakeup-service configurato e caricato
2025-10-28 14:49:11,567 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:49:21,458 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 14:50:00,344 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:50:00,344 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:50:00,344 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:50:00,344 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:50:00,344 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:311 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 14:50:00,344 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:256 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 14:50:00,466 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:50:00,537 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 14:50:00,663 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:277 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 14:50:00,663 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:337 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 14:50:00,732 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 14:50:00,733 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:346 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 14:50:35,805 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 14:50:35,912 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: cat /tmp/asterisk_dtmf_1761659401.3354.txt
2025-10-28 14:50:35,913 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:367 - ✓ DTMF ricevuto: 1
2025-10-28 14:50:36,021 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761659401.3354.txt
2025-10-28 14:50:36,021 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - ✓ DTMF '1' ricevuto - Snooze 5 minuti
2025-10-28 14:50:36,023 - sveglia_centralino.alarm_manager - WARNING - _get_audio_by_action:395 - Audio non trovato: snooze_confirm, 2025-10-28 11:12:02, 5
2025-10-28 14:50:36,025 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:342 - Riprogrammazione sveglia per 14:55
2025-10-28 14:50:36,039 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:354 - ✓ Sveglia riprogrammata con successo
2025-10-28 14:50:36,039 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:355 - ============================================================
2025-10-28 14:50:36,045 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 14:51:36,055 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 14:52:14,310 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 14:53:23,921 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 14:53:24,038 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 14:53:24,098 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 14:53:24,139 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 14:53:24,139 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 14:53:24,139 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 14:56:33,842 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 14:56:33,843 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 14:56:33,843 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 14:56:33,843 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 14:56:33,843 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 14:56:33,843 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 14:56:33,843 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:326 - Upload audio su Asterisk: None
2025-10-28 14:56:33,843 - sveglia_centralino.pbx_connection - ERROR - upload_audio_to_asterisk:299 - Errore upload audio: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 14:56:33,844 - sveglia_centralino.pbx_connection - ERROR - play_audio_with_dtmf:330 - Errore upload: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 14:56:33,844 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:312 - Errore nella riproduzione audio
2025-10-28 14:56:33,844 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:150 - Errore nell'esecuzione sveglia camera 130
2025-10-28 14:56:33,944 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 14:56:33,944 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 14:56:33,944 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 14:56:33,944 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 14:56:33,944 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 14:56:33,944 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 14:56:33,944 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 14:56:34,005 - sveglia_centralino.pbx_connection - INFO - connect:38 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 14:56:34,121 - sveglia_centralino.pbx_connection - INFO - execute_command:88 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 14:56:34,121 - sveglia_centralino.pbx_connection - INFO - test_connection:519 - Test connessione PBX completato con successo
2025-10-28 14:56:34,121 - sveglia_centralino.pbx_connection - INFO - disconnect:56 - Connessione SSH chiusa
2025-10-28 14:56:34,140 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 14:56:34,140 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:00:49,541 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 15:01:46,226 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:01:46,352 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:01:46,409 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:01:46,909 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:01:46,909 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:01:49,304 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:01:49,304 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:01:49,405 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:01:49,405 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:01:49,405 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:01:49,405 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:01:49,405 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:01:49,405 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:01:49,405 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:01:49,473 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:01:49,592 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:01:49,592 - sveglia_centralino.pbx_connection - INFO - test_connection:520 - Test connessione PBX completato con successo
2025-10-28 15:01:49,593 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:01:49,595 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:01:49,595 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:01:56,987 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:01:57,054 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:01:57,217 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:01:57,217 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:244 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:01:58,600 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:02:02,324 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 15:03:29,244 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 15:04:44,800 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:04:44,862 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:04:45,059 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:04:45,059 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:244 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:04:45,792 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:04:57,724 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:05:19,381 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:05:19,381 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 15:05:19,381 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:05:19,381 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:05:19,382 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:05:19,382 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:272 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:05:19,439 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:05:19,498 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:05:19,641 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:293 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:05:19,642 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:05:19,709 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:05:19,709 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:05:54,774 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:05:54,879 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761660320.3361.txt
2025-10-28 15:05:54,879 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 - ✓ DTMF ricevuto: 1
2025-10-28 15:05:54,985 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761660320.3361.txt
2025-10-28 15:05:54,985 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - ✓ DTMF '1' ricevuto - Snooze 5 minuti
2025-10-28 15:05:54,986 - sveglia_centralino.alarm_manager - WARNING - _get_audio_by_action:401 - Audio non trovato: snooze_confirm, 2025-10-28 11:12:02, 5
2025-10-28 15:05:54,986 - sveglia_centralino.alarm_manager - WARNING - _execute_alarm_with_snooze:344 - Audio conferma snooze 5min non trovato
2025-10-28 15:05:54,988 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:348 - Riprogrammazione sveglia per 15:10
2025-10-28 15:05:54,995 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:05:54,995 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:361 - ============================================================
2025-10-28 15:05:55,002 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:06:25,761 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:06:25,762 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:06:25,792 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:06:26,015 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 15:06:26,015 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:06:26,015 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:06:57,389 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:06:57,390 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:06:57,491 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:06:57,491 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:06:57,491 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:06:57,492 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:06:57,492 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:06:57,492 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:06:57,492 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:06:57,553 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:06:57,674 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:06:57,674 - sveglia_centralino.pbx_connection - INFO - test_connection:520 - Test connessione PBX completato con successo
2025-10-28 15:06:57,674 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:06:57,684 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:06:57,684 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:07:52,434 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:07:52,568 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:07:52,631 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:07:53,131 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:07:53,131 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:07:55,196 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:07:55,196 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:07:55,297 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:07:55,297 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:07:55,297 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:07:55,298 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:07:55,298 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:07:55,298 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:07:55,298 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:07:55,374 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:07:55,488 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:07:55,490 - sveglia_centralino.pbx_connection - INFO - test_connection:520 - Test connessione PBX completato con successo
2025-10-28 15:07:55,491 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:07:55,494 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:07:55,494 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:08:06,817 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:08:06,892 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:08:07,062 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:08:07,062 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:244 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:08:07,800 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:08:19,955 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:09:25,239 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:09:25,239 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: 2025-10-28 11:12:02
2025-10-28 15:09:25,239 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:09:25,239 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:09:25,239 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:09:25,239 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:272 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:09:25,314 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:09:25,381 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:09:25,511 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:293 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:09:25,512 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:09:25,619 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:09:25,619 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:10:00,682 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:10:00,786 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761660566.3364.txt
2025-10-28 15:10:00,787 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 - ✓ DTMF ricevuto: 1
2025-10-28 15:10:00,890 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761660566.3364.txt
2025-10-28 15:10:00,891 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - ✓ DTMF '1' ricevuto - Snooze 5 minuti
2025-10-28 15:10:00,892 - sveglia_centralino.alarm_manager - WARNING - _get_audio_by_action:401 - Audio non trovato: snooze_confirm, 2025-10-28 11:12:02, 5
2025-10-28 15:10:00,893 - sveglia_centralino.alarm_manager - WARNING - _execute_alarm_with_snooze:344 - Audio conferma snooze 5min non trovato
2025-10-28 15:10:00,893 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:348 - Riprogrammazione sveglia per 15:15
2025-10-28 15:10:00,920 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:10:00,920 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:361 - ============================================================
2025-10-28 15:10:00,929 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:10:21,961 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:10:22,083 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:10:22,140 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:10:22,640 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:10:22,640 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:10:55,282 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:10:55,283 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:10:55,283 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:10:55,283 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:10:55,283 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:10:55,283 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:10:55,283 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: None
2025-10-28 15:10:55,283 - sveglia_centralino.pbx_connection - ERROR - upload_audio_to_asterisk:300 - Errore upload audio: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:10:55,283 - sveglia_centralino.pbx_connection - ERROR - play_audio_with_dtmf:331 - Errore upload: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:10:55,284 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:312 - Errore nella riproduzione audio
2025-10-28 15:10:55,284 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:150 - Errore nell'esecuzione sveglia camera 130
2025-10-28 15:10:55,384 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:10:55,384 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:10:55,384 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:10:55,384 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:10:55,384 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:10:55,384 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:10:55,384 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:10:55,445 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:10:55,559 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:10:55,560 - sveglia_centralino.pbx_connection - INFO - test_connection:520 - Test connessione PBX completato con successo
2025-10-28 15:10:55,561 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:10:55,574 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:10:55,574 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:11:47,608 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:11:47,669 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:11:47,839 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:11:47,839 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:244 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:11:49,160 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:12:04,731 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:13:25,350 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:13:25,350 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:13:25,350 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:13:25,350 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:13:25,351 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:13:25,351 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:272 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:13:25,466 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:13:25,526 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:13:25,660 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:293 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:13:25,660 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:13:25,726 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:13:25,726 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:14:00,796 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:14:00,902 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761660806.3367.txt
2025-10-28 15:14:00,903 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 - ✓ DTMF ricevuto: 1
2025-10-28 15:14:01,007 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761660806.3367.txt
2025-10-28 15:14:01,008 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - ✓ DTMF '1' ricevuto - Snooze 5 minuti
2025-10-28 15:14:01,008 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:395 - Audio trovato: snooze_5_en (snooze_confirm, it, 5)
2025-10-28 15:14:01,009 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:336 - Riproduzione conferma snooze 5 minuti...
2025-10-28 15:14:01,009 - sveglia_centralino.pbx_connection - INFO - play_audio_simple:412 - Upload audio conferma su Asterisk: audio_messages\snooze_5_en.wav
2025-10-28 15:14:01,009 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:272 - Upload audio snooze_5_en.wav su Asterisk...
2025-10-28 15:14:01,111 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:14:01,234 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:293 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_en.wav
2025-10-28 15:14:01,235 - sveglia_centralino.pbx_connection - INFO - play_audio_simple:428 - Riproduzione audio semplice a 130: custom/snooze_5_en
2025-10-28 15:14:01,344 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-snooze_5_en@wakeup-service-simple callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:14:01,347 - sveglia_centralino.pbx_connection - INFO - play_audio_simple:443 - ✓ Audio semplice riprodotto
2025-10-28 15:14:04,348 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:348 - Riprogrammazione sveglia per 15:19
2025-10-28 15:14:04,360 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:14:04,360 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:361 - ============================================================
2025-10-28 15:14:04,366 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:14:34,385 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:14:34,386 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:14:34,386 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:14:34,386 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:14:34,387 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: None
2025-10-28 15:14:34,387 - sveglia_centralino.pbx_connection - ERROR - upload_audio_to_asterisk:300 - Errore upload audio: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:14:34,388 - sveglia_centralino.pbx_connection - ERROR - play_audio_with_dtmf:331 - Errore upload: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:14:34,388 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:312 - Errore nella riproduzione audio
2025-10-28 15:14:34,388 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:150 - Errore nell'esecuzione sveglia camera 130
2025-10-28 15:15:04,369 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 15:18:04,523 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:18:04,523 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:18:04,524 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:18:04,524 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:18:04,524 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: None
2025-10-28 15:18:04,524 - sveglia_centralino.pbx_connection - ERROR - upload_audio_to_asterisk:300 - Errore upload audio: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:18:04,525 - sveglia_centralino.pbx_connection - ERROR - play_audio_with_dtmf:331 - Errore upload: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:18:04,525 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:312 - Errore nella riproduzione audio
2025-10-28 15:18:04,525 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:150 - Errore nell'esecuzione sveglia camera 130
2025-10-28 15:18:30,801 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:18:30,917 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:18:30,939 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:18:31,441 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:18:31,441 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:19:06,500 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:19:06,500 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:19:06,601 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:19:06,602 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:19:06,604 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:19:06,604 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:19:06,604 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:19:06,604 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:19:06,604 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:19:06,665 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:19:06,781 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:19:06,781 - sveglia_centralino.pbx_connection - INFO - test_connection:520 - Test connessione PBX completato con successo
2025-10-28 15:19:06,781 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:19:06,788 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:19:06,790 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:19:12,965 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 15:19:12,965 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 15:19:12,965 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 15:19:13,185 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 15:19:13,186 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02', 'it')
2025-10-28 15:19:13,186 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 15:19:13,186 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno 103 NON trovato in cache!
2025-10-28 15:19:15,193 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 15:19:15,194 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:561 - Lettura interni dal centralino...
2025-10-28 15:19:15,301 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:589 - Parsing SIP output (112 righe)...
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:590 - Prime 5 righe output SIP:
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:592 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:592 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:592 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:592 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:592 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:640 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:640 -   Parsed: 111 -> online (latency: 30ms)
2025-10-28 15:19:15,368 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:640 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 15:19:15,369 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:647 - Trovati 90 interni SIP: 23 online, 67 offline, 0 unmonitored
2025-10-28 15:19:15,369 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 23 online, 67 offline
2025-10-28 15:19:15,369 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 15:19:15,369 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 30, 'type': 'SIP'}
2025-10-28 15:19:15,369 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 15:19:15,410 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 15:19:15,410 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 30, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 15:19:15,410 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02', 'it')
2025-10-28 15:19:15,410 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 15:19:15,410 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 15:19:32,987 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:20:06,536 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:20:06,536 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:20:06,536 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:20:06,537 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:20:06,537 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:20:06,537 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:272 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:20:06,658 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:20:06,714 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:20:06,848 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:293 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:20:06,849 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:20:06,957 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:20:06,959 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:20:42,026 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:20:42,131 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761661207.3373.txt
2025-10-28 15:20:42,133 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 - ✓ DTMF ricevuto: 1
2025-10-28 15:20:42,239 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761661207.3373.txt
2025-10-28 15:20:42,240 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - ✓ DTMF '1' ricevuto - Snooze 5 minuti
2025-10-28 15:20:42,245 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:395 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:20:42,246 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:336 - Riproduzione conferma snooze 5 minuti...
2025-10-28 15:20:42,247 - sveglia_centralino.pbx_connection - INFO - play_audio_simple:412 - Upload audio conferma su Asterisk: audio_messages\snooze_5_it.wav
2025-10-28 15:20:42,247 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:272 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:20:42,377 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:20:42,506 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:293 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:20:42,508 - sveglia_centralino.pbx_connection - INFO - play_audio_simple:428 - Riproduzione audio semplice a 130: custom/snooze_5_it
2025-10-28 15:20:42,620 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-snooze_5_it@wakeup-service-simple callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:20:42,621 - sveglia_centralino.pbx_connection - INFO - play_audio_simple:443 - ✓ Audio semplice riprodotto
2025-10-28 15:20:45,623 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:348 - Riprogrammazione sveglia per 15:25
2025-10-28 15:20:45,647 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:20:45,647 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:361 - ============================================================
2025-10-28 15:20:45,653 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:21:45,654 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 15:24:45,766 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:24:45,767 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:24:45,768 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:24:45,769 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - Avvio chiamata con audio e rilevamento DTMF...
2025-10-28 15:24:45,769 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:327 - Upload audio su Asterisk: None
2025-10-28 15:24:45,770 - sveglia_centralino.pbx_connection - ERROR - upload_audio_to_asterisk:300 - Errore upload audio: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:24:45,771 - sveglia_centralino.pbx_connection - ERROR - play_audio_with_dtmf:331 - Errore upload: expected str, bytes or os.PathLike object, not NoneType
2025-10-28 15:24:45,774 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm_with_snooze:312 - Errore nella riproduzione audio
2025-10-28 15:24:45,774 - sveglia_centralino.alarm_manager - ERROR - _execute_alarm:150 - Errore nell'esecuzione sveglia camera 130
2025-10-28 15:27:55,984 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:27:55,984 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:27:56,085 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:27:56,085 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:27:56,085 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:27:56,085 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:27:56,085 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:27:56,085 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:27:56,085 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:27:56,146 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:27:56,256 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:27:56,256 - sveglia_centralino.pbx_connection - INFO - test_connection:544 - Test connessione PBX completato con successo
2025-10-28 15:27:56,256 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:27:56,264 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:27:56,264 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:29:14,857 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:29:14,988 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:29:15,017 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:29:15,517 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:29:15,517 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:29:17,658 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:29:17,790 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:29:17,846 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:29:17,957 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 15:29:17,957 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:29:17,957 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:29:24,902 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:29:24,903 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:29:25,003 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:29:25,003 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:29:25,004 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:29:25,005 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:29:25,005 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:29:25,005 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:29:25,005 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:29:25,080 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:29:25,202 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:29:25,202 - sveglia_centralino.pbx_connection - INFO - test_connection:544 - Test connessione PBX completato con successo
2025-10-28 15:29:25,203 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:29:25,209 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:29:25,209 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:29:38,183 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:29:38,257 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:29:38,439 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:29:38,440 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:240 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:29:39,496 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:29:48,179 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:30:24,941 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:30:24,942 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:30:24,942 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:30:24,945 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:30:24,947 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:30:24,947 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:30:24,947 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:30:24,947 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:30:24,947 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:326 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:30:24,947 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:268 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:30:25,009 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:30:25,073 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:30:25,201 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:289 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:30:25,201 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:340 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:30:25,201 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:268 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:30:25,265 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:30:25,377 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:289 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:30:25,377 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:344 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:30:25,377 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:347 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:30:25,377 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:268 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:30:25,441 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:30:25,554 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:289 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:30:25,555 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:351 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:30:25,555 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:30:25,660 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service setvar SNOOZE_5_AUDIO=custom/snooze_5_it setvar SNOOZE_10_AUDIO=custom/snooze_10_it callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:30:25,661 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:386 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:31:00,725 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:31:00,830 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761661826.3379.txt
2025-10-28 15:31:00,831 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:407 - ✓ DTMF ricevuto: 1
2025-10-28 15:31:00,931 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761661826.3379.txt
2025-10-28 15:31:00,931 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 15:31:00,931 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 15:36
2025-10-28 15:31:00,945 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:31:00,945 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 15:31:00,959 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:32:00,974 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 15:33:20,156 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:33:20,157 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:33:20,258 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:33:20,258 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:33:20,258 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:33:20,258 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:33:20,258 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:33:20,258 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:33:20,258 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:33:20,330 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:33:20,434 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:33:20,434 - sveglia_centralino.pbx_connection - INFO - test_connection:570 - Test connessione PBX completato con successo
2025-10-28 15:33:20,435 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:33:20,441 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:33:20,441 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:35:01,097 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:35:01,098 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:35:01,098 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:35:01,099 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:35:01,100 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:35:01,100 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:35:01,100 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:35:01,100 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:35:01,100 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:326 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:35:01,100 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:268 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:35:01,166 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:35:01,300 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:289 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:35:01,301 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:340 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:35:01,301 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:268 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:35:01,409 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:35:01,523 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:289 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:35:01,523 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:344 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:35:01,523 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:347 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:35:01,524 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:268 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:35:01,628 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:35:01,750 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:289 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:35:01,750 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:351 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:35:01,750 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:35:01,821 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service setvar SNOOZE_5_AUDIO=custom/snooze_5_it setvar SNOOZE_10_AUDIO=custom/snooze_10_it callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:35:01,823 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:386 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:35:20,219 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:35:20,220 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:35:20,221 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:35:20,225 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:35:20,228 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:35:20,229 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:35:20,229 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:35:20,229 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:35:20,230 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:334 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:35:20,230 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:35:20,292 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:35:20,362 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:35:20,496 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:35:20,496 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:348 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:35:20,497 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:35:20,602 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:35:20,725 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:35:20,728 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:352 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:35:20,729 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:355 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:35:20,729 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:35:20,833 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:35:20,956 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:35:20,956 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:359 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:35:21,061 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761662120.txt
2025-10-28 15:35:21,062 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:372 - Scritto file snooze 5min: /tmp/snooze_5_audio_130_1761662120.txt
2025-10-28 15:35:21,165 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761662120.txt
2025-10-28 15:35:21,167 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 - Scritto file snooze 10min: /tmp/snooze_10_audio_130_1761662120.txt
2025-10-28 15:35:21,168 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:392 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:35:21,276 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service variable CALL_ID=130_1761662120 callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:35:21,276 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:401 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:35:36,893 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:35:36,894 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:414 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 15:35:36,894 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:338 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 15:35:36,919 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:35:56,347 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:35:56,349 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:431 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 15:35:56,458 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761662120.txt
2025-10-28 15:35:56,565 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761662120.txt
2025-10-28 15:35:56,565 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:338 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 15:35:56,612 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:36:24,393 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:36:24,520 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:36:24,570 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:36:24,953 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 15:36:24,953 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:36:24,953 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:36:26,570 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:36:26,689 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:36:26,749 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:36:27,249 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:36:27,249 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:36:34,509 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:36:34,509 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:36:34,610 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:36:34,610 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:36:34,611 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:36:34,611 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:36:34,611 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:36:34,611 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:36:34,611 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:36:34,683 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:36:34,800 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:36:34,800 - sveglia_centralino.pbx_connection - INFO - test_connection:570 - Test connessione PBX completato con successo
2025-10-28 15:36:34,801 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:36:34,805 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:36:34,805 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:36:53,850 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:36:53,924 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:36:54,100 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:36:54,100 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:248 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:36:55,024 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:37:02,340 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:37:04,520 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:37:04,520 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:37:04,522 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:37:04,522 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:37:04,522 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:37:04,522 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:37:04,522 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:37:04,522 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:37:04,522 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:334 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:37:04,522 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:37:04,629 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:37:04,691 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:37:04,815 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:37:04,816 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:348 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:37:04,816 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:37:04,880 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:37:04,992 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:37:04,992 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:352 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:37:04,992 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:355 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:37:04,992 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:37:05,055 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:37:05,170 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:37:05,170 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:359 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:37:05,233 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761662225.txt
2025-10-28 15:37:05,233 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:372 - Scritto file snooze 5min: /tmp/snooze_5_audio_130_1761662225.txt
2025-10-28 15:37:05,334 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761662225.txt
2025-10-28 15:37:05,335 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 - Scritto file snooze 10min: /tmp/snooze_10_audio_130_1761662225.txt
2025-10-28 15:37:05,335 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:392 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:37:05,442 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service variable CALL_ID=130_1761662225 callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:37:05,442 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:401 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:37:40,506 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:37:40,609 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761662226.3388.txt
2025-10-28 15:37:40,610 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:422 - ✓ DTMF ricevuto: 1
2025-10-28 15:37:40,713 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761662226.3388.txt
2025-10-28 15:37:40,821 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761662225.txt
2025-10-28 15:37:40,923 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761662225.txt
2025-10-28 15:37:40,923 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 15:37:40,923 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 15:42
2025-10-28 15:37:40,955 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:37:40,955 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 15:37:40,973 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:38:40,976 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 15:41:40,522 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:41:40,522 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:41:40,623 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:41:40,623 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:41:40,623 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:41:40,623 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:41:40,623 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:41:40,623 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:41:40,623 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:41:40,689 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:41:40,804 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:41:40,805 - sveglia_centralino.pbx_connection - INFO - test_connection:588 - Test connessione PBX completato con successo
2025-10-28 15:41:40,805 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:41:40,813 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:41:40,814 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:41:41,095 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:41:41,095 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:334 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:41:41,096 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:41:41,167 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:41:41,303 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:41:41,305 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:348 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:41:41,306 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:41:41,410 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:41:41,537 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:41:41,538 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:352 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:41:41,539 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:355 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:41:41,540 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:276 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:41:41,645 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:41:41,771 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:297 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:41:41,774 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:359 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:41:41,881 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761662501.txt
2025-10-28 15:41:41,882 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:372 - Scritto file snooze 5min: /tmp/snooze_5_audio_130_1761662501.txt
2025-10-28 15:41:41,989 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761662501.txt
2025-10-28 15:41:41,989 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 - Scritto file snooze 10min: /tmp/snooze_10_audio_130_1761662501.txt
2025-10-28 15:41:41,989 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:392 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:41:42,100 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service variable CALL_ID=130_1761662501 callerid 'Servizio Sveglie <999>'" 
2025-10-28 15:41:42,101 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:401 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:42:10,533 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:42:10,533 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:42:10,533 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:42:10,533 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:42:10,534 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:42:10,534 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:42:10,534 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:42:10,534 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:42:10,534 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:339 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:42:10,534 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:42:10,648 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:42:10,710 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:42:10,839 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:42:10,839 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:42:10,839 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:42:10,900 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:42:11,014 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:42:11,014 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:357 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:42:11,014 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:42:11,014 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:42:11,080 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:42:11,193 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:42:11,193 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:42:11,295 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761662531.txt
2025-10-28 15:42:11,295 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761662531.txt
2025-10-28 15:42:11,295 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:379 -   Contenuto: custom/snooze_5_it
2025-10-28 15:42:11,396 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761662531.txt
2025-10-28 15:42:11,396 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:384 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 15:42:11,498 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761662531.txt
2025-10-28 15:42:11,498 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:389 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761662531.txt
2025-10-28 15:42:11,498 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:390 -   Contenuto: custom/snooze_10_it
2025-10-28 15:42:11,600 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761662531.txt
2025-10-28 15:42:11,600 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:395 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 15:42:11,601 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:410 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:42:11,707 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>' variable CALL_ID=130_1761662531" 
2025-10-28 15:42:11,708 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:419 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:42:17,169 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:42:17,276 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761662502.3391.txt
2025-10-28 15:42:17,277 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:422 - ✓ DTMF ricevuto: 1
2025-10-28 15:42:17,384 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761662502.3391.txt
2025-10-28 15:42:17,496 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761662501.txt
2025-10-28 15:42:17,603 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761662501.txt
2025-10-28 15:42:17,603 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 15:42:17,604 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 15:47
2025-10-28 15:42:17,636 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:42:17,636 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 15:42:17,650 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:42:46,771 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:42:46,873 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761662532.3394.txt
2025-10-28 15:42:46,874 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:440 - ✓ DTMF ricevuto: 1
2025-10-28 15:42:46,974 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761662532.3394.txt
2025-10-28 15:42:47,077 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761662531.txt
2025-10-28 15:42:47,180 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761662531.txt
2025-10-28 15:42:47,180 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 15:42:47,180 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 15:47
2025-10-28 15:42:47,203 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:42:47,203 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 15:42:47,219 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:42:51,754 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:42:51,890 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:42:51,946 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:42:52,447 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:42:52,447 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:43:02,345 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:43:02,460 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:43:02,487 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:43:02,987 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:43:02,987 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 15:47:18,490 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 15:47:18,491 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 15:47:18,592 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 15:47:18,592 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 15:47:18,592 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 15:47:18,593 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 15:47:18,594 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 15:47:18,594 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 15:47:18,594 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 15:47:18,670 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:47:18,803 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 15:47:18,803 - sveglia_centralino.pbx_connection - INFO - test_connection:588 - Test connessione PBX completato con successo
2025-10-28 15:47:18,803 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:47:18,806 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 15:47:18,806 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 15:47:28,705 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 15:47:28,764 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:47:28,941 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 15:47:28,941 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:253 - ✓ Context wakeup-service configurato e caricato
2025-10-28 15:47:29,865 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 15:48:04,242 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 15:49:18,542 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 15:49:18,543 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 15:49:18,543 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 15:49:18,543 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 15:49:18,544 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 15:49:18,544 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:49:18,544 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:49:18,544 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 15:49:18,544 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:339 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 15:49:18,544 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 15:49:18,665 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 15:49:18,735 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:49:18,865 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 15:49:18,865 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 15:49:18,865 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 15:49:18,969 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:49:19,083 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 15:49:19,084 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:357 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 15:49:19,084 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 15:49:19,084 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 15:49:19,148 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 15:49:19,262 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 15:49:19,262 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 15:49:19,366 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761662959.txt
2025-10-28 15:49:19,366 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761662959.txt
2025-10-28 15:49:19,367 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:379 -   Contenuto: custom/snooze_5_it
2025-10-28 15:49:19,467 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761662959.txt
2025-10-28 15:49:19,468 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:384 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 15:49:19,569 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761662959.txt
2025-10-28 15:49:19,570 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:389 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761662959.txt
2025-10-28 15:49:19,570 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:390 -   Contenuto: custom/snooze_10_it
2025-10-28 15:49:19,680 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761662959.txt
2025-10-28 15:49:19,681 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:395 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 15:49:19,681 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:410 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 15:49:19,788 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>' variable CALL_ID=130_1761662959" 
2025-10-28 15:49:19,789 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:419 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 15:49:54,854 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 15:49:54,957 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761662960.3399.txt
2025-10-28 15:49:54,958 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:440 - ✓ DTMF ricevuto: 1
2025-10-28 15:49:55,059 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761662960.3399.txt
2025-10-28 15:49:55,162 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761662959.txt
2025-10-28 15:49:55,264 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761662959.txt
2025-10-28 15:49:55,265 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 15:49:55,265 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 15:54
2025-10-28 15:49:55,275 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 15:49:55,275 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 15:49:55,282 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 15:50:49,578 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 15:50:49,709 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 15:50:49,737 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 15:50:50,237 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 15:50:50,237 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:07:56,138 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:07:56,139 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:07:56,239 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:07:56,239 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:07:56,240 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:07:56,240 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:07:56,240 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:07:56,240 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:07:56,240 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:07:56,357 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:07:56,464 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:07:56,464 - sveglia_centralino.pbx_connection - INFO - test_connection:594 - Test connessione PBX completato con successo
2025-10-28 16:07:56,464 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:07:56,472 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:07:56,473 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:08:08,891 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:08:08,971 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:08:09,146 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:08:09,146 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:259 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:08:10,257 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:08:21,236 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:09:26,181 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:09:26,182 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:09:26,182 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:09:26,183 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:09:26,183 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:09:26,183 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:09:26,183 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:09:26,183 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:09:26,183 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:345 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:09:26,183 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:287 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:09:26,290 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:09:26,351 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:09:26,485 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:308 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:09:26,486 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:359 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:09:26,487 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:287 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:09:26,592 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:09:26,721 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:308 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:09:26,722 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:363 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:09:26,722 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:366 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:09:26,722 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:287 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:09:26,826 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:09:26,954 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:308 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:09:26,954 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:370 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:09:27,059 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761664166.txt
2025-10-28 16:09:27,059 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:384 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761664166.txt
2025-10-28 16:09:27,060 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:385 -   Contenuto: custom/snooze_5_it
2025-10-28 16:09:27,168 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761664166.txt
2025-10-28 16:09:27,168 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:390 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 16:09:27,270 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761664166.txt
2025-10-28 16:09:27,270 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:395 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761664166.txt
2025-10-28 16:09:27,270 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:396 -   Contenuto: custom/snooze_10_it
2025-10-28 16:09:27,374 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761664166.txt
2025-10-28 16:09:27,375 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:401 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 16:09:27,375 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:416 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:09:27,482 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1@wakeup-service callerid 'Servizio Sveglie <999>' variable CALL_ID=130_1761664166" 
2025-10-28 16:09:27,482 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:425 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:10:02,547 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:10:02,649 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761664168.3406.txt
2025-10-28 16:10:02,649 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:446 - ✓ DTMF ricevuto: 1
2025-10-28 16:10:02,752 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761664168.3406.txt
2025-10-28 16:10:02,857 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761664166.txt
2025-10-28 16:10:02,959 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761664166.txt
2025-10-28 16:10:02,959 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:10:02,960 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:15
2025-10-28 16:10:02,969 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:10:02,969 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:10:02,976 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:10:23,194 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:10:23,323 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:10:23,349 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:10:23,849 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:10:23,849 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:11:58,781 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:11:58,781 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:11:58,882 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:11:58,882 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:11:58,883 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:11:58,883 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:11:58,883 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:11:58,884 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:11:58,884 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:11:58,950 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:11:59,069 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:11:59,069 - sveglia_centralino.pbx_connection - INFO - test_connection:601 - Test connessione PBX completato con successo
2025-10-28 16:11:59,070 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:11:59,076 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:11:59,076 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:12:08,376 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:12:08,448 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:12:08,626 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:12:08,627 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:263 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:12:10,001 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:12:20,228 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:14:28,850 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:14:28,850 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:14:28,850 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:14:28,854 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:14:28,856 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:14:28,857 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:14:28,857 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:14:28,857 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:14:28,858 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:349 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:14:28,858 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:14:28,972 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:14:29,033 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:14:29,163 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:14:29,163 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:363 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:14:29,163 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:14:29,227 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:14:29,348 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:14:29,349 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:367 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:14:29,350 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:370 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:14:29,350 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:14:29,457 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:14:29,578 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:14:29,578 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:14:29,683 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761664469.txt
2025-10-28 16:14:29,684 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:388 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761664469.txt
2025-10-28 16:14:29,684 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:389 -   Contenuto: custom/snooze_5_it
2025-10-28 16:14:29,787 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761664469.txt
2025-10-28 16:14:29,787 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 16:14:29,890 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761664469.txt
2025-10-28 16:14:29,891 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:399 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761664469.txt
2025-10-28 16:14:29,891 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:400 -   Contenuto: custom/snooze_10_it
2025-10-28 16:14:29,993 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761664469.txt
2025-10-28 16:14:29,993 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:405 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 16:14:29,993 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:423 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:14:30,099 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension 'custom-wakeup_didimos_asterisk_1|130_1761664469'@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:14:30,100 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:432 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:15:05,168 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:15:05,272 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761664470.3409.txt
2025-10-28 16:15:05,273 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:453 - ✓ DTMF ricevuto: 1
2025-10-28 16:15:05,387 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761664470.3409.txt
2025-10-28 16:15:05,490 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761664469.txt
2025-10-28 16:15:05,596 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761664469.txt
2025-10-28 16:15:05,597 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:15:05,598 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:20
2025-10-28 16:15:05,609 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:15:05,609 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:15:05,615 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:15:43,082 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:15:43,209 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:15:43,266 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:15:43,631 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 16:15:43,631 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:15:43,631 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:16:57,209 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:16:57,212 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:16:57,312 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:16:57,312 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:16:57,312 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:16:57,313 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:16:57,313 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:16:57,313 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:16:57,313 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:16:57,386 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:16:57,503 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:16:57,503 - sveglia_centralino.pbx_connection - INFO - test_connection:601 - Test connessione PBX completato con successo
2025-10-28 16:16:57,503 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:16:57,510 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:16:57,510 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:17:07,185 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:17:07,257 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:17:07,420 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:17:07,421 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:263 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:17:08,251 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:17:20,972 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:18:27,262 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:18:27,263 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:18:27,264 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:18:27,267 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:18:27,271 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:18:27,271 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:18:27,271 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:18:27,272 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:18:27,272 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:349 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:18:27,273 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:18:27,386 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:18:27,456 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:18:27,588 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:18:27,589 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:363 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:18:27,589 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:18:27,695 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:18:27,818 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:18:27,819 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:367 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:18:27,819 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:370 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:18:27,819 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:18:27,925 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:18:28,052 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:18:28,052 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:18:28,158 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761664708.txt
2025-10-28 16:18:28,159 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:388 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761664708.txt
2025-10-28 16:18:28,159 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:389 -   Contenuto: custom/snooze_5_it
2025-10-28 16:18:28,266 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761664708.txt
2025-10-28 16:18:28,268 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 16:18:28,373 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761664708.txt
2025-10-28 16:18:28,374 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:399 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761664708.txt
2025-10-28 16:18:28,375 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:400 -   Contenuto: custom/snooze_10_it
2025-10-28 16:18:28,482 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761664708.txt
2025-10-28 16:18:28,482 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:405 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 16:18:28,482 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:423 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:18:28,592 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1|130_1761664708@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:18:28,593 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:432 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:19:03,663 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:19:03,772 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761664709.3412.txt
2025-10-28 16:19:03,773 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:453 - ✓ DTMF ricevuto: 1
2025-10-28 16:19:03,876 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761664709.3412.txt
2025-10-28 16:19:03,983 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761664708.txt
2025-10-28 16:19:04,092 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761664708.txt
2025-10-28 16:19:04,094 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:19:04,094 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:24
2025-10-28 16:19:04,115 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:19:04,115 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:19:04,121 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:19:34,150 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:19:34,151 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:19:34,151 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:19:34,153 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:19:34,154 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:19:34,154 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:19:34,154 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:19:34,154 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:19:34,154 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:349 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:19:34,154 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:19:34,221 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:19:34,360 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:19:34,360 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:363 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:19:34,360 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:19:34,474 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:19:34,594 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:19:34,594 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:367 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:19:34,594 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:370 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:19:34,594 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:291 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:19:34,659 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:19:34,783 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:312 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:19:34,784 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:19:34,889 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761664774.txt
2025-10-28 16:19:34,890 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:388 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761664774.txt
2025-10-28 16:19:34,891 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:389 -   Contenuto: custom/snooze_5_it
2025-10-28 16:19:35,001 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761664774.txt
2025-10-28 16:19:35,003 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 16:19:35,113 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761664774.txt
2025-10-28 16:19:35,114 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:399 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761664774.txt
2025-10-28 16:19:35,114 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:400 -   Contenuto: custom/snooze_10_it
2025-10-28 16:19:35,221 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761664774.txt
2025-10-28 16:19:35,223 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:405 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 16:19:35,225 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:423 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:19:35,333 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1|130_1761664774@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:19:35,335 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:432 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:20:04,129 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:20:10,399 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:20:10,505 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761664776.3415.txt
2025-10-28 16:20:10,505 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:453 - ✓ DTMF ricevuto: 2
2025-10-28 16:20:10,609 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761664776.3415.txt
2025-10-28 16:20:10,712 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761664774.txt
2025-10-28 16:20:10,816 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761664774.txt
2025-10-28 16:20:10,816 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:333 - ✓ DTMF '2' ricevuto - Snooze 10 minuti (conferma già riprodotta)
2025-10-28 16:20:10,816 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:30
2025-10-28 16:20:10,829 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:20:10,829 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:20:10,834 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:20:27,810 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:20:27,935 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:20:27,961 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:20:28,462 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:20:28,462 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:24:06,744 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:24:06,745 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:24:06,846 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:24:06,846 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:24:06,846 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:24:06,846 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:24:06,846 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:24:06,846 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:24:06,846 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:24:06,952 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:24:07,077 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:24:07,077 - sveglia_centralino.pbx_connection - INFO - test_connection:597 - Test connessione PBX completato con successo
2025-10-28 16:24:07,078 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:24:07,085 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:24:07,085 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:24:15,146 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:24:15,211 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:24:15,388 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:24:15,388 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:259 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:24:16,674 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:24:29,764 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:25:06,768 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:25:06,768 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:25:06,769 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:25:06,769 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:25:06,769 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:25:06,769 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:25:06,769 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:25:06,769 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:25:06,769 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:345 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:25:06,769 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:287 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:25:06,830 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:25:06,896 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:25:07,038 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:308 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:25:07,039 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:359 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:25:07,040 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:287 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:25:07,142 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:25:07,259 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:308 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:25:07,259 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:363 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:25:07,259 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:366 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:25:07,259 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:287 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:25:07,322 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:25:07,437 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:308 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:25:07,438 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:370 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:25:07,540 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/snooze_5_audio_130_1761665107.txt
2025-10-28 16:25:07,540 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:384 - ✓ File snooze 5min creato: /tmp/snooze_5_audio_130_1761665107.txt
2025-10-28 16:25:07,540 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:385 -   Contenuto: custom/snooze_5_it
2025-10-28 16:25:07,644 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_5_audio_130_1761665107.txt
2025-10-28 16:25:07,645 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:390 -   Verifica contenuto: [custom/snooze_5_it]
2025-10-28 16:25:07,749 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/snooze_10_audio_130_1761665107.txt
2025-10-28 16:25:07,750 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:395 - ✓ File snooze 10min creato: /tmp/snooze_10_audio_130_1761665107.txt
2025-10-28 16:25:07,751 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:396 -   Contenuto: custom/snooze_10_it
2025-10-28 16:25:07,851 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/snooze_10_audio_130_1761665107.txt
2025-10-28 16:25:07,851 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:401 -   Verifica contenuto: [custom/snooze_10_it]
2025-10-28 16:25:07,851 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:419 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:25:07,960 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1|130_1761665107@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:25:07,960 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:428 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:25:43,031 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:25:43,134 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761665108.3420.txt
2025-10-28 16:25:43,135 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:449 - ✓ DTMF ricevuto: 1
2025-10-28 16:25:43,243 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761665108.3420.txt
2025-10-28 16:25:43,349 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_5_audio_130_1761665107.txt
2025-10-28 16:25:43,457 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/snooze_10_audio_130_1761665107.txt
2025-10-28 16:25:43,460 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:25:43,461 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:30
2025-10-28 16:25:43,487 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:25:43,487 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:25:43,500 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:26:43,514 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:30:26,099 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:30:26,237 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:30:26,293 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:30:26,673 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 16:30:26,673 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:30:26,673 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:30:28,764 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:30:28,764 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:30:28,865 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:30:28,865 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:30:28,865 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:30:28,866 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:30:28,866 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:30:28,866 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:30:28,866 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:30:28,948 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:30:29,066 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:30:29,066 - sveglia_centralino.pbx_connection - INFO - test_connection:561 - Test connessione PBX completato con successo
2025-10-28 16:30:29,067 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:30:29,073 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:30:29,073 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:30:40,001 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:30:40,071 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:30:40,293 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:30:40,293 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:258 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:30:41,031 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:30:53,181 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:31:28,788 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:31:28,788 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:31:28,788 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:31:28,788 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:31:28,789 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:31:28,789 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:31:28,789 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:31:28,789 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:31:28,789 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:344 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:31:28,789 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:31:28,903 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:31:28,973 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:31:29,108 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:31:29,108 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:358 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:31:29,108 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:31:29,170 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:31:29,295 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:31:29,295 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:31:29,296 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:31:29,296 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:31:29,359 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:31:29,480 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:31:29,480 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:369 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:31:29,480 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:381 - Audio paths da passare ad Asterisk:
2025-10-28 16:31:29,480 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:382 -   Snooze 5min: custom%snooze_5_it
2025-10-28 16:31:29,480 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 -   Snooze 10min: custom%snooze_10_it
2025-10-28 16:31:29,480 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:31:29,546 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1|130_1761665489|custom%snooze_5_it|custom%snooze_10_it@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:31:29,547 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:403 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:32:04,613 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:32:04,716 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761665490.3425.txt
2025-10-28 16:32:04,717 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:424 - ✓ DTMF ricevuto: 1
2025-10-28 16:32:04,821 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761665490.3425.txt
2025-10-28 16:32:04,821 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:328 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:32:04,821 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:37
2025-10-28 16:32:04,845 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:32:04,845 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:32:04,851 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:32:25,547 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_EN (ID: 5, Lingua: en)
2025-10-28 16:33:04,856 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:33:04,877 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:33:04,877 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:33:04,877 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:33:04,878 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:33:04,878 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:33:04,878 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:33:04,878 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:33:04,878 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:33:04,878 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:344 - Upload audio sveglia: audio_messages\wakeup-msg_en_1.wav
2025-10-28 16:33:04,878 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio wakeup-msg_en_1.wav su Asterisk...
2025-10-28 16:33:04,941 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:33:05,073 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup-msg_en_1.wav
2025-10-28 16:33:05,073 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:358 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:33:05,073 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:33:05,144 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:33:05,259 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:33:05,259 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:33:05,259 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:33:05,259 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:33:05,324 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:33:05,437 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:33:05,437 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:369 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:33:05,437 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:381 - Audio paths da passare ad Asterisk:
2025-10-28 16:33:05,437 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:382 -   Snooze 5min: custom%snooze_5_it
2025-10-28 16:33:05,437 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 -   Snooze 10min: custom%snooze_10_it
2025-10-28 16:33:05,437 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 - Chiamata con DTMF a 130: custom/wakeup-msg_en_1
2025-10-28 16:33:05,543 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup-msg_en_1|130_1761665585|custom%snooze_5_it|custom%snooze_10_it@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:33:05,543 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:403 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:33:40,614 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:33:40,615 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:431 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 16:33:40,616 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:338 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 16:33:40,639 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:34:10,566 - sveglia_centralino.room_manager - INFO - __init__:19 - ============================================================
2025-10-28 16:34:10,567 - sveglia_centralino.room_manager - INFO - __init__:20 - APERTURA GESTIONE CAMERE HOTEL - INTEGRAZIONE PBX
2025-10-28 16:34:10,567 - sveglia_centralino.room_manager - INFO - __init__:21 - ============================================================
2025-10-28 16:34:10,604 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 0 interni
2025-10-28 16:34:10,606 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02', 'it')
2025-10-28 16:34:10,606 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 16:34:10,606 - sveglia_centralino.room_manager - WARNING - load_rooms:501 -   ✗ Interno 103 NON trovato in cache!
2025-10-28 16:34:12,612 - sveglia_centralino.room_manager - INFO - do_refresh:377 - Refresh stato interni PBX...
2025-10-28 16:34:12,612 - sveglia_centralino.pbx_connection - INFO - get_sip_peers:602 - Lettura interni dal centralino...
2025-10-28 16:34:12,726 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'sip show peers'
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:630 - Parsing SIP output (112 righe)...
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:631 - Prime 5 righe output SIP:
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:633 -   Riga 0: Name/username             Host                                    Dyn Forcerport
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:633 -   Riga 1: 103                       (Unspecified)                            D  Yes       
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:633 -   Riga 2: 111/111                   5.98.202.136                             D  Yes       
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:633 -   Riga 3: 114/114                   192.168.10.151                           D  Yes       
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:633 -   Riga 4: 115/115                   192.168.10.127                           D  Yes       
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:681 -   Parsed: 103 -> offline (latency: Nonems)
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:681 -   Parsed: 111 -> online (latency: 29ms)
2025-10-28 16:34:12,792 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:681 -   Parsed: 114 -> online (latency: 4ms)
2025-10-28 16:34:12,793 - sveglia_centralino.pbx_connection - INFO - _parse_sip_output:688 - Trovati 90 interni SIP: 24 online, 66 offline, 0 unmonitored
2025-10-28 16:34:12,793 - sveglia_centralino.room_manager - INFO - do_refresh:402 - Cache popolata con 90 interni: 24 online, 66 offline
2025-10-28 16:34:12,793 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[103] = {'status': 'offline', 'latency': None, 'type': 'SIP'}
2025-10-28 16:34:12,793 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[111] = {'status': 'online', 'latency': 29, 'type': 'SIP'}
2025-10-28 16:34:12,793 - sveglia_centralino.room_manager - INFO - do_refresh:407 -   Cache[114] = {'status': 'online', 'latency': 4, 'type': 'SIP'}
2025-10-28 16:34:12,807 - sveglia_centralino.room_manager - INFO - load_rooms:450 - Caricamento camere... Cache PBX: 90 interni
2025-10-28 16:34:12,807 - sveglia_centralino.room_manager - INFO - load_rooms:454 -   Campione cache: [('103', {'status': 'offline', 'latency': None, 'type': 'SIP'}), ('111', {'status': 'online', 'latency': 29, 'type': 'SIP'}), ('114', {'status': 'online', 'latency': 4, 'type': 'SIP'})]
2025-10-28 16:34:12,808 - sveglia_centralino.room_manager - INFO - load_rooms:460 -   Prima camera dal DB (RAW): (51, '103', '103', 'Interno 103', 'available', '#FFFFFF', 'Importato da PBX', '2025-10-28 11:12:02', 'it')
2025-10-28 16:34:12,808 - sveglia_centralino.room_manager - INFO - load_rooms:477 -   Prima camera PARSED: num=103, ext=103, desc=Interno 103
2025-10-28 16:34:12,808 - sveglia_centralino.room_manager - INFO - load_rooms:497 -   ✓ Primo interno: 103 -> offline
2025-10-28 16:34:23,182 - sveglia_centralino.audio_manager - INFO - __init__:20 - Apertura finestra Gestione Messaggi Audio
2025-10-28 16:34:40,651 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:36:10,713 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:36:10,714 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:36:10,714 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:36:10,714 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:36:10,715 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:36:10,715 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:36:10,715 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:36:10,715 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:36:10,715 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:344 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:36:10,715 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:36:10,777 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:36:10,901 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:36:10,902 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:358 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:36:10,902 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:36:10,963 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:36:11,075 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:36:11,075 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:36:11,075 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:36:11,075 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:36:11,138 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:36:11,250 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:36:11,250 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:369 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:36:11,250 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:381 - Audio paths da passare ad Asterisk:
2025-10-28 16:36:11,250 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:382 -   Snooze 5min: custom%snooze_5_it
2025-10-28 16:36:11,250 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 -   Snooze 10min: custom%snooze_10_it
2025-10-28 16:36:11,250 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:36:11,315 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1|130_1761665771|custom%snooze_5_it|custom%snooze_10_it@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:36:11,315 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:403 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:36:15,989 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_EN (ID: 5, Lingua: en)
2025-10-28 16:36:46,379 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:36:46,483 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761665772.3431.txt
2025-10-28 16:36:46,483 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:424 - ✓ DTMF ricevuto: 2
2025-10-28 16:36:46,586 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761665772.3431.txt
2025-10-28 16:36:46,586 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:333 - ✓ DTMF '2' ricevuto - Snooze 10 minuti (conferma già riprodotta)
2025-10-28 16:36:46,586 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Riprogrammazione sveglia per 16:46
2025-10-28 16:36:46,610 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:359 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:36:46,610 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:360 - ============================================================
2025-10-28 16:36:46,618 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:37:16,635 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:298 - ============================================================
2025-10-28 16:37:16,635 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:299 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:37:16,635 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:300 - ============================================================
2025-10-28 16:37:16,636 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:37:16,638 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:394 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:37:16,638 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:307 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:37:16,638 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:309 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:37:16,638 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:312 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:37:16,638 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:344 - Upload audio sveglia: audio_messages\wakeup-msg_en_1.wav
2025-10-28 16:37:16,639 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio wakeup-msg_en_1.wav su Asterisk...
2025-10-28 16:37:16,706 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:37:16,839 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup-msg_en_1.wav
2025-10-28 16:37:16,839 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:358 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:37:16,839 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:37:16,904 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:37:17,030 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:37:17,030 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:362 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:37:17,030 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:37:17,030 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:286 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:37:17,096 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:37:17,216 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:307 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:37:17,216 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:369 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:37:17,217 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:381 - Audio paths da passare ad Asterisk:
2025-10-28 16:37:17,217 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:382 -   Snooze 5min: custom%snooze_5_it
2025-10-28 16:37:17,217 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:383 -   Snooze 10min: custom%snooze_10_it
2025-10-28 16:37:17,217 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 - Chiamata con DTMF a 130: custom/wakeup-msg_en_1
2025-10-28 16:37:17,328 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup-msg_en_1|130_1761665837|custom%snooze_5_it|custom%snooze_10_it@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:37:17,329 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:403 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:37:46,621 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:177 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:37:52,397 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:37:52,398 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:431 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 16:37:52,398 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:338 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 16:37:52,455 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:144 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:38:46,403 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:38:47,212 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:38:47,267 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:38:47,481 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 16:38:47,481 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:38:47,481 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:39:55,592 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:39:55,593 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:39:55,694 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:39:55,694 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:39:55,694 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:39:55,694 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:39:55,694 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:39:55,695 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:39:55,695 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:39:55,773 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:39:55,890 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:39:55,890 - sveglia_centralino.pbx_connection - INFO - test_connection:562 - Test connessione PBX completato con successo
2025-10-28 16:39:55,890 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:39:55,905 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:39:55,905 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:40:04,075 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:40:04,138 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:40:04,313 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:40:04,313 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:254 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:40:05,129 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:40:16,837 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:40:22,852 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_EN (ID: 5, Lingua: en)
2025-10-28 16:41:25,636 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_ITA, Lingua: it
2025-10-28 16:41:25,636 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:41:25,636 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:41:25,636 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:41:25,637 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:41:25,637 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:41:25,637 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:41:25,638 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:41:25,638 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:41:25,638 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:340 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:41:25,638 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:282 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:41:25,697 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:41:25,757 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:41:25,883 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:303 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:41:25,883 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:354 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:41:25,883 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:282 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:41:25,945 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:41:26,062 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:303 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:41:26,062 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:358 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:41:26,062 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:361 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:41:26,062 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:282 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:41:26,165 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:41:26,282 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:303 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:41:26,282 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:41:26,282 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:375 - Audio paths da passare ad Asterisk:
2025-10-28 16:41:26,282 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:376 -   Snooze 5min: custom/snooze_5_it
2025-10-28 16:41:26,282 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 -   Snooze 10min: custom/snooze_10_it
2025-10-28 16:41:26,282 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:395 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:41:26,349 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup_didimos_asterisk_1|130_1761666086@wakeup-service variable __SNOOZE_5_AUDIO=custom\/snooze_5_it variable __SNOOZE_10_AUDIO=custom\/snooze_10_it callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:41:26,349 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:404 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:42:01,420 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:42:01,529 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761666087.3437.txt
2025-10-28 16:42:01,531 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:425 - ✓ DTMF ricevuto: 2
2025-10-28 16:42:01,639 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761666087.3437.txt
2025-10-28 16:42:01,639 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:339 - ✓ DTMF '2' ricevuto - Snooze 10 minuti (conferma già riprodotta)
2025-10-28 16:42:01,640 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:350 - Riprogrammazione sveglia per 16:52
2025-10-28 16:42:01,692 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:365 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:42:01,692 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:366 - ============================================================
2025-10-28 16:42:01,711 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:150 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:42:31,732 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_EN, Lingua: en
2025-10-28 16:42:31,733 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:42:31,733 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: EN
2025-10-28 16:42:31,733 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:42:31,733 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_en (snooze_confirm, en, 5)
2025-10-28 16:42:31,734 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_en (snooze_confirm, en, 10)
2025-10-28 16:42:31,734 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_en.wav
2025-10-28 16:42:31,734 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_en.wav
2025-10-28 16:42:31,734 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:42:31,734 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:340 - Upload audio sveglia: audio_messages\wakeup-msg_en_1.wav
2025-10-28 16:42:31,734 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:282 - Upload audio wakeup-msg_en_1.wav su Asterisk...
2025-10-28 16:42:31,797 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:42:31,929 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:303 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup-msg_en_1.wav
2025-10-28 16:42:31,929 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:354 - Upload audio conferma 5min: audio_messages\snooze_5_en.wav
2025-10-28 16:42:31,929 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:282 - Upload audio snooze_5_en.wav su Asterisk...
2025-10-28 16:42:31,993 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:42:32,115 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:303 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_en.wav
2025-10-28 16:42:32,115 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:358 - ✓ Conferma 5min: custom/snooze_5_en
2025-10-28 16:42:32,115 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:361 - Upload audio conferma 10min: audio_messages\snooze_10_en.wav
2025-10-28 16:42:32,115 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:282 - Upload audio snooze_10_en.wav su Asterisk...
2025-10-28 16:42:32,179 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:42:32,307 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:303 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_en.wav
2025-10-28 16:42:32,307 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:365 - ✓ Conferma 10min: custom/snooze_10_en
2025-10-28 16:42:32,307 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:375 - Audio paths da passare ad Asterisk:
2025-10-28 16:42:32,307 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:376 -   Snooze 5min: custom/snooze_5_en
2025-10-28 16:42:32,307 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 -   Snooze 10min: custom/snooze_10_en
2025-10-28 16:42:32,307 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:395 - Chiamata con DTMF a 130: custom/wakeup-msg_en_1
2025-10-28 16:42:32,373 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension custom-wakeup-msg_en_1|130_1761666152@wakeup-service variable __SNOOZE_5_AUDIO=custom\/snooze_5_en variable __SNOOZE_10_AUDIO=custom\/snooze_10_en callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:42:32,374 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:404 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:43:01,713 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:183 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:43:07,445 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:43:07,446 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:432 - Nessun DTMF ricevuto (timeout o no input)
2025-10-28 16:43:07,447 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:344 - Nessuno snooze richiesto - Cliente ha chiuso o timeout
2025-10-28 16:43:07,486 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:150 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:44:07,493 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:183 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:47:56,219 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:47:56,392 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:47:56,448 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:47:56,654 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 16:47:56,654 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:47:56,654 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:47:58,911 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:47:58,911 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:47:59,013 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:47:59,013 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:47:59,014 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:47:59,014 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:47:59,015 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:47:59,015 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:47:59,015 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:47:59,141 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:47:59,252 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:47:59,252 - sveglia_centralino.pbx_connection - INFO - test_connection:585 - Test connessione PBX completato con successo
2025-10-28 16:47:59,252 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:47:59,260 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:47:59,261 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:48:07,273 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:48:07,344 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:48:07,516 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:48:07,517 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:253 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:48:08,568 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:48:18,132 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:49:28,949 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_ITA, Lingua: it
2025-10-28 16:49:28,949 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:49:28,949 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:49:28,949 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:49:28,950 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:49:28,950 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:49:28,950 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:49:28,950 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:49:28,950 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:49:28,950 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:339 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:49:28,950 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:49:29,065 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:49:29,125 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:49:29,253 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:49:29,254 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:49:29,255 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:49:29,361 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:49:29,477 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:49:29,477 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:357 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:49:29,477 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:49:29,477 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:49:29,540 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - Audio paths da passare ad Asterisk:
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:375 -   Wake-up: custom/wakeup_didimos_asterisk_1
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:376 -   Snooze 5min: custom/snooze_5_it
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 -   Snooze 10min: custom/snooze_10_it
2025-10-28 16:49:29,655 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 -   Call ID: 3397
2025-10-28 16:49:29,717 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/s5_3397.txt
2025-10-28 16:49:29,719 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:386 - ✓ File snooze 5: /tmp/s5_3397.txt
2025-10-28 16:49:29,822 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/s10_3397.txt
2025-10-28 16:49:29,823 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:391 - ✓ File snooze 10: /tmp/s10_3397.txt
2025-10-28 16:49:29,926 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom-wakeup_didimos_asterisk_1' > /tmp/w_3397.txt
2025-10-28 16:49:29,927 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:397 - ✓ File wake-up: /tmp/w_3397.txt
2025-10-28 16:49:29,927 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:409 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:49:30,035 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension 3397@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:49:30,036 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:418 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:50:05,110 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:50:05,220 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761666570.3443.txt
2025-10-28 16:50:05,223 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:439 - ✓ DTMF ricevuto: 2
2025-10-28 16:50:05,327 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761666570.3443.txt
2025-10-28 16:50:05,433 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/w_3397.txt /tmp/s5_3397.txt /tmp/s10_3397.txt
2025-10-28 16:50:05,433 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:446 - ✓ File temporanei puliti per ID 3397
2025-10-28 16:50:05,433 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:339 - ✓ DTMF '2' ricevuto - Snooze 10 minuti (conferma già riprodotta)
2025-10-28 16:50:05,433 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:350 - Riprogrammazione sveglia per 17:00
2025-10-28 16:50:05,452 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:365 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:50:05,452 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:366 - ============================================================
2025-10-28 16:50:05,458 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:150 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:51:05,466 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:183 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:51:05,488 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_ITA, Lingua: it
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:51:05,489 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:51:05,489 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:339 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:51:05,489 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:51:05,553 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:51:05,679 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:51:05,679 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:51:05,679 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:51:05,743 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:51:05,859 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:51:05,859 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:357 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:51:05,860 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:51:05,860 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:51:05,922 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:51:06,035 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:51:06,035 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:51:06,035 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - Audio paths da passare ad Asterisk:
2025-10-28 16:51:06,036 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:375 -   Wake-up: custom/wakeup_didimos_asterisk_1
2025-10-28 16:51:06,036 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:376 -   Snooze 5min: custom/snooze_5_it
2025-10-28 16:51:06,036 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 -   Snooze 10min: custom/snooze_10_it
2025-10-28 16:51:06,036 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 -   Call ID: 6496
2025-10-28 16:51:06,100 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/s5_6496.txt
2025-10-28 16:51:06,101 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:386 - ✓ File snooze 5: /tmp/s5_6496.txt
2025-10-28 16:51:06,204 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/s10_6496.txt
2025-10-28 16:51:06,205 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:391 - ✓ File snooze 10: /tmp/s10_6496.txt
2025-10-28 16:51:06,309 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom-wakeup_didimos_asterisk_1' > /tmp/w_6496.txt
2025-10-28 16:51:06,310 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:397 - ✓ File wake-up: /tmp/w_6496.txt
2025-10-28 16:51:06,310 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:409 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:51:06,417 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension 6496@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:51:06,418 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:418 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:51:06,946 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:51:41,487 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:51:41,597 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761666667.3446.txt
2025-10-28 16:51:41,598 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:439 - ✓ DTMF ricevuto: 1
2025-10-28 16:51:41,707 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761666667.3446.txt
2025-10-28 16:51:41,816 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/w_6496.txt /tmp/s5_6496.txt /tmp/s10_6496.txt
2025-10-28 16:51:41,817 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:446 - ✓ File temporanei puliti per ID 6496
2025-10-28 16:51:41,817 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:334 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:51:41,817 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:350 - Riprogrammazione sveglia per 16:56
2025-10-28 16:51:41,854 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:365 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:51:41,854 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:366 - ============================================================
2025-10-28 16:51:41,863 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:150 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:52:13,018 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:52:13,145 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:52:13,205 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:52:13,705 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:52:13,705 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:52:16,653 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:52:16,654 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:52:16,754 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:52:16,754 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:52:16,754 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:52:16,755 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:52:16,755 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:52:16,755 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:52:16,755 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:52:16,868 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:52:16,982 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:52:16,982 - sveglia_centralino.pbx_connection - INFO - test_connection:585 - Test connessione PBX completato con successo
2025-10-28 16:52:16,982 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:52:16,989 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:52:16,989 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:52:25,169 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:52:25,239 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:52:25,411 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:52:25,412 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:253 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:52:26,433 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:52:36,124 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_ITA (ID: 3, Lingua: it)
2025-10-28 16:52:46,670 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_ITA, Lingua: it
2025-10-28 16:52:46,671 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:52:46,671 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: IT
2025-10-28 16:52:46,671 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:52:46,671 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_it (snooze_confirm, it, 5)
2025-10-28 16:52:46,672 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_it (snooze_confirm, it, 10)
2025-10-28 16:52:46,672 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:52:46,672 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:52:46,672 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:52:46,672 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:339 - Upload audio sveglia: audio_messages\wakeup_didimos_asterisk_1.wav
2025-10-28 16:52:46,672 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio wakeup_didimos_asterisk_1.wav su Asterisk...
2025-10-28 16:52:46,744 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:52:46,812 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:52:46,936 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup_didimos_asterisk_1.wav
2025-10-28 16:52:46,936 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Upload audio conferma 5min: audio_messages\snooze_5_it.wav
2025-10-28 16:52:46,936 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_5_it.wav su Asterisk...
2025-10-28 16:52:46,999 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:52:47,159 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_it.wav
2025-10-28 16:52:47,160 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:357 - ✓ Conferma 5min: custom/snooze_5_it
2025-10-28 16:52:47,160 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - Upload audio conferma 10min: audio_messages\snooze_10_it.wav
2025-10-28 16:52:47,160 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_10_it.wav su Asterisk...
2025-10-28 16:52:47,222 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:52:47,340 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_it.wav
2025-10-28 16:52:47,340 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - ✓ Conferma 10min: custom/snooze_10_it
2025-10-28 16:52:47,340 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - Audio paths da passare ad Asterisk:
2025-10-28 16:52:47,340 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:375 -   Wake-up: custom/wakeup_didimos_asterisk_1
2025-10-28 16:52:47,340 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:376 -   Snooze 5min: custom/snooze_5_it
2025-10-28 16:52:47,340 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 -   Snooze 10min: custom/snooze_10_it
2025-10-28 16:52:47,341 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 -   Call ID: 5610
2025-10-28 16:52:47,402 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_it' > /tmp/s5_5610.txt
2025-10-28 16:52:47,402 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:386 - ✓ File snooze 5: /tmp/s5_5610.txt
2025-10-28 16:52:47,503 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_it' > /tmp/s10_5610.txt
2025-10-28 16:52:47,504 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:391 - ✓ File snooze 10: /tmp/s10_5610.txt
2025-10-28 16:52:47,605 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom-wakeup_didimos_asterisk_1' > /tmp/w_5610.txt
2025-10-28 16:52:47,605 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:397 - ✓ File wake-up: /tmp/w_5610.txt
2025-10-28 16:52:47,605 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:409 - Chiamata con DTMF a 130: custom/wakeup_didimos_asterisk_1
2025-10-28 16:52:47,711 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension 5610@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:52:47,712 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:418 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:53:11,388 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_EN (ID: 5, Lingua: en)
2025-10-28 16:53:22,779 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:53:22,884 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761666768.3449.txt
2025-10-28 16:53:22,884 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:439 - ✓ DTMF ricevuto: 2
2025-10-28 16:53:22,988 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761666768.3449.txt
2025-10-28 16:53:23,092 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/w_5610.txt /tmp/s5_5610.txt /tmp/s10_5610.txt
2025-10-28 16:53:23,092 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:446 - ✓ File temporanei puliti per ID 5610
2025-10-28 16:53:23,092 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:339 - ✓ DTMF '2' ricevuto - Snooze 10 minuti (conferma già riprodotta)
2025-10-28 16:53:23,092 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:350 - Riprogrammazione sveglia per 17:03
2025-10-28 16:53:23,104 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:365 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:53:23,104 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:366 - ============================================================
2025-10-28 16:53:23,111 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:150 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:53:53,126 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_EN, Lingua: en
2025-10-28 16:53:53,126 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:53:53,126 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: EN
2025-10-28 16:53:53,126 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:53:53,127 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_en (snooze_confirm, en, 5)
2025-10-28 16:53:53,127 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_en (snooze_confirm, en, 10)
2025-10-28 16:53:53,128 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_en.wav
2025-10-28 16:53:53,128 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_en.wav
2025-10-28 16:53:53,128 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:53:53,128 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:339 - Upload audio sveglia: audio_messages\wakeup-msg_en_1.wav
2025-10-28 16:53:53,128 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio wakeup-msg_en_1.wav su Asterisk...
2025-10-28 16:53:53,191 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:53:53,323 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup-msg_en_1.wav
2025-10-28 16:53:53,323 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:353 - Upload audio conferma 5min: audio_messages\snooze_5_en.wav
2025-10-28 16:53:53,323 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_5_en.wav su Asterisk...
2025-10-28 16:53:53,384 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:53:53,501 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_en.wav
2025-10-28 16:53:53,501 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:357 - ✓ Conferma 5min: custom/snooze_5_en
2025-10-28 16:53:53,501 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - Upload audio conferma 10min: audio_messages\snooze_10_en.wav
2025-10-28 16:53:53,501 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:281 - Upload audio snooze_10_en.wav su Asterisk...
2025-10-28 16:53:53,563 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:53:53,679 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:302 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_en.wav
2025-10-28 16:53:53,679 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:364 - ✓ Conferma 10min: custom/snooze_10_en
2025-10-28 16:53:53,679 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:374 - Audio paths da passare ad Asterisk:
2025-10-28 16:53:53,679 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:375 -   Wake-up: custom/wakeup-msg_en_1
2025-10-28 16:53:53,679 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:376 -   Snooze 5min: custom/snooze_5_en
2025-10-28 16:53:53,680 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 -   Snooze 10min: custom/snooze_10_en
2025-10-28 16:53:53,680 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 -   Call ID: 1519
2025-10-28 16:53:53,743 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_en' > /tmp/s5_1519.txt
2025-10-28 16:53:53,743 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:386 - ✓ File snooze 5: /tmp/s5_1519.txt
2025-10-28 16:53:53,846 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_en' > /tmp/s10_1519.txt
2025-10-28 16:53:53,846 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:391 - ✓ File snooze 10: /tmp/s10_1519.txt
2025-10-28 16:53:53,949 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom-wakeup-msg_en_1' > /tmp/w_1519.txt
2025-10-28 16:53:53,949 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:397 - ✓ File wake-up: /tmp/w_1519.txt
2025-10-28 16:53:53,949 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:409 - Chiamata con DTMF a 130: custom/wakeup-msg_en_1
2025-10-28 16:53:54,057 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension 1519@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:53:54,058 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:418 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:54:23,112 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:183 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:54:27,010 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:54:27,144 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:54:27,200 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:54:27,700 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:54:27,700 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
2025-10-28 16:55:15,809 - sveglia_centralino.alarm_manager - INFO - start:32 - Creazione thread alarm_loop...
2025-10-28 16:55:15,809 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:50 - Loop sveglie avviato - check_interval: 30s
2025-10-28 16:55:15,910 - sveglia_centralino.alarm_manager - INFO - start:38 - Gestore sveglie avviato - Thread alive: True
2025-10-28 16:55:15,910 - sveglia_centralino.main - INFO - __init__:55 - Gestore sveglie avviato
2025-10-28 16:55:15,912 - sveglia_centralino.main - INFO - test_connection:370 - ============================================================
2025-10-28 16:55:15,912 - sveglia_centralino.main - INFO - test_connection:371 - TEST CONNESSIONE PBX ALL'AVVIO
2025-10-28 16:55:15,912 - sveglia_centralino.main - INFO - test_connection:372 - ============================================================
2025-10-28 16:55:15,912 - sveglia_centralino.main - INFO - test_connection:373 - Host: 192.168.10.15:22
2025-10-28 16:55:15,912 - sveglia_centralino.main - INFO - test_connection:374 - Username: root
2025-10-28 16:55:15,975 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:55:16,088 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo 'PBX Connection Test'
2025-10-28 16:55:16,088 - sveglia_centralino.pbx_connection - INFO - test_connection:588 - Test connessione PBX completato con successo
2025-10-28 16:55:16,088 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:55:16,096 - sveglia_centralino.main - INFO - test_connection:380 - ✓ Connessione PBX all'avvio: SUCCESSO
2025-10-28 16:55:16,096 - sveglia_centralino.main - INFO - test_connection:381 - ============================================================
2025-10-28 16:55:24,713 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:153 - Setup context wakeup-service nel dialplan...
2025-10-28 16:55:24,781 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:55:24,951 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx 'dialplan reload'
2025-10-28 16:55:24,951 - sveglia_centralino.pbx_connection - INFO - setup_wakeup_context:256 - ✓ Context wakeup-service configurato e caricato
2025-10-28 16:55:25,953 - sveglia_centralino.pbx_connection - INFO - disconnect:57 - Connessione SSH chiusa
2025-10-28 16:55:38,844 - sveglia_centralino.main - INFO - set_alarm:563 - Audio wake_up trovato: Wakeup_EN (ID: 5, Lingua: en)
2025-10-28 16:55:45,821 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:122 - Audio wake_up: Wakeup_EN, Lingua: en
2025-10-28 16:55:45,821 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:304 - ============================================================
2025-10-28 16:55:45,821 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:305 - SVEGLIA CON SNOOZE - Camera 130 - Interno 130 - Lingua: EN
2025-10-28 16:55:45,821 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:306 - ============================================================
2025-10-28 16:55:45,822 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_5_en (snooze_confirm, en, 5)
2025-10-28 16:55:45,822 - sveglia_centralino.alarm_manager - INFO - _get_audio_by_action:400 - Audio trovato: snooze_10_en (snooze_confirm, en, 10)
2025-10-28 16:55:45,822 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:313 - Audio conferma 5min: audio_messages\snooze_5_en.wav
2025-10-28 16:55:45,822 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:315 - Audio conferma 10min: audio_messages\snooze_10_en.wav
2025-10-28 16:55:45,822 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:318 - Avvio chiamata con audio, DTMF e conferma...
2025-10-28 16:55:45,822 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:342 - Upload audio sveglia: audio_messages\wakeup-msg_en_1.wav
2025-10-28 16:55:45,823 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:284 - Upload audio wakeup-msg_en_1.wav su Asterisk...
2025-10-28 16:55:45,933 - sveglia_centralino.pbx_connection - INFO - connect:39 - Connessione SSH stabilita con 192.168.10.15
2025-10-28 16:55:45,994 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:55:46,121 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:305 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/wakeup-msg_en_1.wav
2025-10-28 16:55:46,123 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:356 - Upload audio conferma 5min: audio_messages\snooze_5_en.wav
2025-10-28 16:55:46,124 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:284 - Upload audio snooze_5_en.wav su Asterisk...
2025-10-28 16:55:46,223 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:55:46,335 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:305 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_5_en.wav
2025-10-28 16:55:46,336 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:360 - ✓ Conferma 5min: custom/snooze_5_en
2025-10-28 16:55:46,336 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:363 - Upload audio conferma 10min: audio_messages\snooze_10_en.wav
2025-10-28 16:55:46,336 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:284 - Upload audio snooze_10_en.wav su Asterisk...
2025-10-28 16:55:46,400 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: mkdir -p /var/lib/asterisk/sounds/custom/
2025-10-28 16:55:46,514 - sveglia_centralino.pbx_connection - INFO - upload_audio_to_asterisk:305 - ✓ Audio caricato: /var/lib/asterisk/sounds/custom/snooze_10_en.wav
2025-10-28 16:55:46,515 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:367 - ✓ Conferma 10min: custom/snooze_10_en
2025-10-28 16:55:46,515 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:377 - Audio paths da passare ad Asterisk:
2025-10-28 16:55:46,515 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:378 -   Wake-up: custom/wakeup-msg_en_1
2025-10-28 16:55:46,516 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:379 -   Snooze 5min: custom/snooze_5_en
2025-10-28 16:55:46,516 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:380 -   Snooze 10min: custom/snooze_10_en
2025-10-28 16:55:46,516 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:381 -   Call ID: 5961
2025-10-28 16:55:46,615 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_5_en' > /tmp/s5_5961.txt
2025-10-28 16:55:46,616 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:389 - ✓ File snooze 5: /tmp/s5_5961.txt
2025-10-28 16:55:46,721 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom/snooze_10_en' > /tmp/s10_5961.txt
2025-10-28 16:55:46,722 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:394 - ✓ File snooze 10: /tmp/s10_5961.txt
2025-10-28 16:55:46,823 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: echo -n 'custom-wakeup-msg_en_1' > /tmp/w_5961.txt
2025-10-28 16:55:46,824 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:400 - ✓ File wake-up: /tmp/w_5961.txt
2025-10-28 16:55:46,824 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:412 - Chiamata con DTMF a 130: custom/wakeup-msg_en_1
2025-10-28 16:55:46,931 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: asterisk -rx "channel originate Local/130@from-internal/n extension 5961@wakeup-service callerid 'Servizio Sveglie <999>'" 
2025-10-28 16:55:46,932 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:421 - ✓ Chiamata avviata verso wakeup-service
2025-10-28 16:56:21,995 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: ls -t /tmp/asterisk_dtmf_* 2>/dev/null | head -1
2025-10-28 16:56:22,098 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: cat /tmp/asterisk_dtmf_1761666947.3455.txt
2025-10-28 16:56:22,098 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:442 - ✓ DTMF ricevuto: 1
2025-10-28 16:56:22,200 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/asterisk_dtmf_1761666947.3455.txt
2025-10-28 16:56:22,303 - sveglia_centralino.pbx_connection - INFO - execute_command:89 - Comando eseguito: rm -f /tmp/w_5961.txt /tmp/s5_5961.txt /tmp/s10_5961.txt
2025-10-28 16:56:22,303 - sveglia_centralino.pbx_connection - INFO - play_audio_with_dtmf:449 - ✓ File temporanei puliti per ID 5961
2025-10-28 16:56:22,303 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:334 - ✓ DTMF '1' ricevuto - Snooze 5 minuti (conferma già riprodotta)
2025-10-28 16:56:22,303 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:350 - Riprogrammazione sveglia per 17:01
2025-10-28 16:56:22,314 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:365 - ✓ Sveglia riprogrammata con successo
2025-10-28 16:56:22,314 - sveglia_centralino.alarm_manager - INFO - _execute_alarm_with_snooze:366 - ============================================================
2025-10-28 16:56:22,322 - sveglia_centralino.alarm_manager - INFO - _execute_alarm:150 - Sveglia eseguita per camera 130 (interno 130)
2025-10-28 16:57:22,324 - sveglia_centralino.alarm_manager - ERROR - _end_alarm_call:183 - Errore nella terminazione chiamata interno 130: Nessuna chiamata attiva per questa camera
2025-10-28 16:58:15,891 - sveglia_centralino.main - INFO - on_closing:662 - Chiusura applicazione in corso...
2025-10-28 16:58:16,025 - sveglia_centralino.audio_player - INFO - __init__:21 - Audio player inizializzato con successo
2025-10-28 16:58:16,081 - sveglia_centralino.audio_player - INFO - cleanup:132 - Audio player chiuso
2025-10-28 16:58:16,387 - sveglia_centralino.alarm_manager - INFO - _alarm_loop:73 - Loop sveglie terminato
2025-10-28 16:58:16,388 - sveglia_centralino.alarm_manager - INFO - stop:46 - Gestore sveglie fermato
2025-10-28 16:58:16,388 - sveglia_centralino.main - INFO - on_closing:679 - Applicazione chiusa
